<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Star Citizen Kill Tracker</title>
  <link rel="icon" href="https://github.com/HarleyTG-O/sc-killfeed/blob/main/logo.png?raw=true" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* Animated background with particles */
    body {
      background: linear-gradient(135deg, #0a0f1c 0%, #1a252f 50%, #0f1419 100%);
      color: #e0e6ed;
      font-family: "Exo 2", "Segoe UI", sans-serif;
      line-height: 1.6;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    /* Simplified animated background particles */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        radial-gradient(1px 1px at 20px 30px, #ed1c24, transparent),
        radial-gradient(1px 1px at 40px 70px, rgba(237, 28, 36, 0.5), transparent),
        radial-gradient(1px 1px at 90px 40px, #ed1c24, transparent);
      background-repeat: repeat;
      background-size: 150px 80px;
      animation: particleFloat 15s ease-in-out infinite;
      opacity: 0.08;
      z-index: -1;
    }

    @keyframes particleFloat {
      0%, 100% { transform: translateY(0px) translateX(0px); }
      50% { transform: translateY(-50px) translateX(50px); }
    }
    /* Main container with futuristic styling */
    .container {
      width: 100%;
      max-width: 1200px;
      background: linear-gradient(145deg, rgba(22, 32, 43, 0.95), rgba(15, 20, 25, 0.95));
      border-radius: 20px;
      padding: 40px 50px;
      box-shadow:
        0 0 30px rgba(237, 28, 36, 0.3),
        0 20px 40px rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(237, 28, 36, 0.4);
      position: relative;
      transition: all 0.3s ease;
    }

    .container:hover {
      box-shadow:
        0 0 40px rgba(237, 28, 36, 0.5),
        0 25px 50px rgba(0, 0, 0, 0.7);
    }

    /* Simplified corner decorations */
    .container::before,
    .container::after {
      content: '';
      position: absolute;
      width: 30px;
      height: 30px;
      background: #ed1c24;
      border-radius: 50%;
      box-shadow: 0 0 15px rgba(237, 28, 36, 0.8);
    }

    .container::before {
      top: -15px;
      left: -15px;
      animation: pulse 2s ease-in-out infinite;
    }

    .container::after {
      bottom: -15px;
      right: -15px;
      animation: pulse 2s ease-in-out infinite 1s;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.8; }
      50% { transform: scale(1.2); opacity: 1; }
    }
    /* Enhanced header with sci-fi styling */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 30px;
      margin-bottom: 40px;
      padding: 20px 0;
      border-bottom: 2px solid rgba(237, 28, 36, 0.3);
      position: relative;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 30px;
      flex: 1;
    }

    .header-buttons {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .header-login-btn {
      font-size: 0.9rem !important;
      padding: 10px 20px !important;
      min-width: auto !important;
      white-space: nowrap;
    }

    header::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, #ed1c24, transparent);
      animation: scanLine 2s ease-in-out infinite;
    }

    @keyframes scanLine {
      0%, 100% { transform: translateX(-100%); opacity: 0; }
      50% { transform: translateX(0%); opacity: 1; }
    }

    header img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      box-shadow:
        0 0 20px rgba(237, 28, 36, 0.8),
        inset 0 0 20px rgba(237, 28, 36, 0.2);
      border: 3px solid rgba(237, 28, 36, 0.5);
      animation: logoGlow 2s ease-in-out infinite alternate;
      transition: all 0.3s ease;
    }

    header img:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 0 30px rgba(237, 28, 36, 1);
    }

    @keyframes logoGlow {
      0% { box-shadow: 0 0 20px rgba(237, 28, 36, 0.8), inset 0 0 20px rgba(237, 28, 36, 0.2); }
      100% { box-shadow: 0 0 30px rgba(237, 28, 36, 1), inset 0 0 30px rgba(237, 28, 36, 0.4); }
    }

    header h1 {
      font-family: 'Orbitron', monospace;
      font-size: 2.8rem;
      font-weight: 900;
      color: #ed1c24;
      display: flex;
      align-items: center;
      gap: 15px;
      text-shadow:
        0 0 10px rgba(237, 28, 36, 0.8),
        0 0 20px rgba(237, 28, 36, 0.4),
        0 0 30px rgba(237, 28, 36, 0.2);
      letter-spacing: 2px;
      animation: titleGlow 3s ease-in-out infinite alternate;
    }

    @keyframes titleGlow {
      0% { text-shadow: 0 0 10px rgba(237, 28, 36, 0.8), 0 0 20px rgba(237, 28, 36, 0.4), 0 0 30px rgba(237, 28, 36, 0.2); }
      100% { text-shadow: 0 0 15px rgba(237, 28, 36, 1), 0 0 25px rgba(237, 28, 36, 0.6), 0 0 35px rgba(237, 28, 36, 0.4); }
    }

    header h1 #version {
      font-family: 'Exo 2', sans-serif;
      font-weight: 400;
      font-size: 1.1rem;
      color: #8fa8b8;
      margin-left: 15px;
      padding: 5px 12px;
      background: rgba(237, 28, 36, 0.1);
      border: 1px solid rgba(237, 28, 36, 0.3);
      border-radius: 15px;
      text-shadow: none;
    }
    /* Enhanced sections with futuristic design */
    .section {
      background: linear-gradient(145deg, rgba(31, 42, 56, 0.9), rgba(20, 28, 38, 0.9));
      padding: 35px 40px;
      border-radius: 15px;
      margin-bottom: 35px;
      border: 1px solid rgba(237, 28, 36, 0.3);
      position: relative;
      transition: all 0.3s ease;
    }

    .section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, #ed1c24, transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .section:hover::before {
      opacity: 1;
    }

    .section:hover {
      transform: translateY(-3px);
      box-shadow:
        0 10px 25px rgba(237, 28, 36, 0.2),
        0 0 30px rgba(237, 28, 36, 0.1);
      border-color: rgba(237, 28, 36, 0.5);
    }

    .section h2 {
      font-family: 'Orbitron', monospace;
      font-size: 2.2rem;
      font-weight: 700;
      color: #ed1c24;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 2px solid rgba(237, 28, 36, 0.3);
      position: relative;
      text-shadow: 0 0 10px rgba(237, 28, 36, 0.5);
      letter-spacing: 1px;
    }

    .section h2::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 60px;
      height: 2px;
      background: #ed1c24;
      box-shadow: 0 0 10px #ed1c24;
    }

    .section ul {
      list-style: none;
      margin-bottom: 20px;
    }

    .section li {
      margin-bottom: 12px;
      padding-left: 25px;
      position: relative;
      font-size: 1.1rem;
      transition: all 0.3s ease;
    }

    .section li::before {
      content: '▶';
      position: absolute;
      left: 0;
      color: #ed1c24;
      font-size: 0.8rem;
      transition: all 0.3s ease;
    }

    .section li:hover {
      color: #ed1c24;
      transform: translateX(10px);
    }

    .section li:hover::before {
      transform: scale(1.3);
      text-shadow: 0 0 5px #ed1c24;
    }
    /* Enhanced button styling */
    .button-group {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin-top: 25px;
    }



    a.button, button.button {
      display: inline-block;
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      color: #fff;
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      font-size: 0.95rem;
      text-decoration: none;
      padding: 15px 25px;
      border-radius: 25px;
      border: 2px solid rgba(237, 28, 36, 0.5);
      box-shadow:
        0 5px 15px rgba(237, 28, 36, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
      cursor: pointer;
      white-space: nowrap;
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    a.button::before, button.button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: all 0.5s ease;
    }

    a.button:hover, button.button:hover {
      background: linear-gradient(145deg, #ff2832, #ed1c24);
      transform: translateY(-3px) scale(1.05);
      box-shadow:
        0 10px 25px rgba(237, 28, 36, 0.6),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
      border-color: rgba(237, 28, 36, 0.8);
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    }

    a.button:hover::before, button.button:hover::before {
      left: 100%;
    }

    a.button:active, button.button:active {
      transform: translateY(-1px) scale(1.02);
    }
    /* Enhanced footer */
    footer {
      margin-top: 60px;
      color: #8fa8b8;
      text-align: center;
      max-width: 1200px;
      padding: 30px 0;
      border-top: 1px solid rgba(237, 28, 36, 0.2);
      font-family: 'Exo 2', sans-serif;
      font-size: 1.1rem;
      position: relative;
    }

    footer::before {
      content: '';
      position: absolute;
      top: -1px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 1px;
      background: #ed1c24;
      box-shadow: 0 0 10px #ed1c24;
    }
    /* Enhanced overlay styling */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      animation: overlayFadeIn 0.3s ease;
      backdrop-filter: blur(5px);
    }

    @keyframes overlayFadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .overlay-content {
      background: linear-gradient(145deg, rgba(22, 32, 43, 0.98), rgba(15, 20, 25, 0.98));
      color: #e0e6ed;
      padding: 30px;
      border-radius: 20px;
      width: 90vw;
      max-width: 800px;
      height: 85vh;
      display: flex;
      flex-direction: column;
      text-align: left;
      box-shadow:
        0 0 50px rgba(237, 28, 36, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(237, 28, 36, 0.4);
      position: relative;
      animation: overlaySlideIn 0.4s ease;
    }

    @keyframes overlaySlideIn {
      from { transform: translateY(-50px) scale(0.9); opacity: 0; }
      to { transform: translateY(0) scale(1); opacity: 1; }
    }

    .overlay-content h3 {
      font-family: 'Orbitron', monospace;
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: #ed1c24;
      text-shadow: 0 0 10px rgba(237, 28, 36, 0.5);
      border-bottom: 2px solid rgba(237, 28, 36, 0.3);
      padding-bottom: 15px;
      flex-shrink: 0;
    }

    .overlay-content .close-button {
      position: absolute;
      top: 15px;
      right: 20px;
      background: linear-gradient(145deg, rgba(237, 28, 36, 0.8), rgba(176, 20, 26, 0.8));
      color: white;
      border: none;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .overlay-content .close-button:hover {
      background: linear-gradient(145deg, rgba(255, 40, 50, 0.9), rgba(237, 28, 36, 0.9));
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(237, 28, 36, 0.4);
    }

    /* Enhanced Media Gallery Styling */
    .media-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
      margin-top: 30px;
    }

    .media-gallery video,
    .media-gallery img {
      width: 100%;
      border-radius: 15px;
      box-shadow:
        0 10px 30px rgba(0, 0, 0, 0.5),
        0 0 20px rgba(237, 28, 36, 0.2);
      border: 2px solid rgba(237, 28, 36, 0.3);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
    }

    .media-gallery video:hover,
    .media-gallery img:hover {
      transform: scale(1.05) translateY(-10px);
      box-shadow:
        0 20px 40px rgba(0, 0, 0, 0.7),
        0 0 30px rgba(237, 28, 36, 0.5);
      border-color: rgba(237, 28, 36, 0.6);
    }

    /* Media gallery item overlay effect */
    .media-gallery video::after,
    .media-gallery img::after {
      content: '🔍';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2rem;
      color: #ed1c24;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: all 0.3s ease;
      pointer-events: none;
    }

    .media-gallery video:hover::after,
    .media-gallery img:hover::after {
      opacity: 1;
    }

    /* Media Viewer Overlay */
    .media-viewer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10001;
      animation: overlayFadeIn 0.3s ease;
    }

    .media-viewer-content {
      position: relative;
      max-width: 90vw;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .media-viewer img,
    .media-viewer video {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 10px;
      box-shadow: 0 0 50px rgba(237, 28, 36, 0.5);
      border: 2px solid rgba(237, 28, 36, 0.5);
    }

    .media-viewer-controls {
      display: flex;
      gap: 15px;
      margin-top: 20px;
      align-items: center;
    }

    .media-viewer-close,
    .media-viewer-prev,
    .media-viewer-next {
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      color: white;
      border: none;
      padding: 12px 16px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(237, 28, 36, 0.4);
    }

    .media-viewer-close:hover,
    .media-viewer-prev:hover,
    .media-viewer-next:hover {
      background: linear-gradient(145deg, #ff2832, #ed1c24);
      transform: scale(1.1);
      box-shadow: 0 8px 20px rgba(237, 28, 36, 0.6);
    }

    .media-viewer-title {
      color: #ed1c24;
      font-family: 'Orbitron', monospace;
      font-size: 1.1rem;
      margin: 0 15px;
      text-shadow: 0 0 10px rgba(237, 28, 36, 0.5);
    }

    .media-viewer-counter {
      color: #8fa8b8;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.9rem;
      margin-left: 15px;
    }

    /* Enhanced Status Section Styling */
    #statusList {
      font-family: 'Orbitron', monospace;
      font-size: 1.2rem;
      color: #e0e6ed;
      background: linear-gradient(145deg, rgba(34, 44, 58, 0.9), rgba(20, 30, 40, 0.9));
      border-radius: 15px;
      padding: 25px 30px;
      border: 1px solid rgba(237, 28, 36, 0.3);
      box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
      position: relative;
      overflow: hidden;
    }

    .status-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding: 8px 0;
    }

    .status-item:last-child {
      margin-bottom: 0;
    }

    .status-label {
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      color: #8fa8b8;
      font-size: 0.9rem;
    }

    .status-value {
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: 'Exo 2', sans-serif;
      font-weight: 600;
      font-size: 1rem;
    }

    .status-indicator {
      font-size: 0.9rem;
      animation: statusPulse 2s ease-in-out infinite;
    }

    .status-text.offline {
      color: #ff6b6b;
      text-shadow: 0 0 5px rgba(255, 107, 107, 0.5);
    }

    .status-text.online {
      color: #51cf66;
      text-shadow: 0 0 5px rgba(81, 207, 102, 0.5);
    }

    @keyframes statusPulse {
      0%, 100% {
        opacity: 1;
        transform: scale(1);
      }
      50% {
        opacity: 0.7;
        transform: scale(1.1);
      }
    }

    .server-status-container {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 4px;
    }

    .server-status-main {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .server-status-note {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.7rem;
      color: #8fa8b8;
      font-style: italic;
      opacity: 0.8;
      text-align: right;
    }

    #statusList::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, #ed1c24, transparent);
      animation: statusScan 2s ease-in-out infinite;
    }

    @keyframes statusScan {
      0%, 100% { transform: translateX(-100%); }
      50% { transform: translateX(100%); }
    }

    /* Loading spinner */
    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 3px solid rgba(237, 28, 36, 0.3);
      border-top: 3px solid #ed1c24;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes filmGrain {
      0% { transform: translate(0, 0); }
      10% { transform: translate(-1px, -1px); }
      20% { transform: translate(1px, 0px); }
      30% { transform: translate(-1px, 1px); }
      40% { transform: translate(1px, -1px); }
      50% { transform: translate(-1px, 0px); }
      60% { transform: translate(1px, 1px); }
      70% { transform: translate(0px, -1px); }
      80% { transform: translate(-1px, -1px); }
      90% { transform: translate(1px, 0px); }
      100% { transform: translate(0, 0); }
    }

    @keyframes loadingShine {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    /* Download Animation Screen */
    .download-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background:
        linear-gradient(135deg, #0a0f1c 0%, #1a252f 50%, #0f1419 100%),
        rgba(0, 0, 0, 0.95);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10002;
      animation: overlayFadeIn 0.5s ease;
      backdrop-filter: blur(15px);
      overflow: hidden;
      isolation: isolate;
    }

    .download-animation {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
      position: relative;
      z-index: 1;
    }

    .download-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 25px;
      padding: 40px 20px;
      max-width: 600px;
      width: 90%;
      text-align: center;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 20px;
      border: 1px solid rgba(237, 28, 36, 0.3);
      box-shadow:
        0 0 50px rgba(237, 28, 36, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }

    .download-progress-container {
      width: 100%;
      max-width: 400px;
      height: 10px;
      background: rgba(237, 28, 36, 0.2);
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      box-shadow:
        0 0 20px rgba(237, 28, 36, 0.3),
        inset 0 0 10px rgba(0, 0, 0, 0.5);
      margin: 0 auto;
    }

    .download-progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #ed1c24, #ff4444, #ed1c24);
      background-size: 200% 100%;
      border-radius: 10px;
      width: 0%;
      animation: progressGlow 2s ease-in-out infinite;
      transition: width 0.3s ease;
      position: relative;
    }

    .download-progress-bar::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: progressScan 1.5s ease-in-out infinite;
    }

    @keyframes progressGlow {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes progressScan {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .download-spinner {
      width: 80px;
      height: 80px;
      border: 4px solid rgba(237, 28, 36, 0.3);
      border-top: 4px solid #ed1c24;
      border-radius: 50%;
      animation: downloadSpin 1s linear infinite;
      position: relative;
      margin: 0 auto;
      flex-shrink: 0;
    }

    .download-spinner::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      border: 2px solid rgba(237, 28, 36, 0.2);
      border-bottom: 2px solid #ed1c24;
      border-radius: 50%;
      animation: downloadSpin 0.8s linear infinite reverse;
    }

    @keyframes downloadSpin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .download-text {
      color: #ed1c24;
      font-family: 'Orbitron', monospace;
      font-size: 1.4rem;
      font-weight: 700;
      text-shadow: 0 0 15px rgba(237, 28, 36, 0.8);
      text-align: center;
      animation: textPulse 2s ease-in-out infinite;
      margin: 0;
      line-height: 1.2;
      flex-shrink: 0;
    }

    .download-subtext {
      color: #8fa8b8;
      font-family: 'Exo 2', sans-serif;
      font-size: 1rem;
      text-align: center;
      animation: textFade 3s ease-in-out infinite;
      margin: 0;
      line-height: 1.4;
      max-width: 400px;
      flex-shrink: 0;
    }

    .download-percentage {
      color: #ed1c24;
      font-family: 'Orbitron', monospace;
      font-size: 1.2rem;
      font-weight: 600;
      text-shadow: 0 0 10px rgba(237, 28, 36, 0.6);
      text-align: center;
      margin: 0;
      flex-shrink: 0;
    }

    @keyframes textPulse {
      0%, 100% { opacity: 0.8; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.05); }
    }

    @keyframes textFade {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    /* Enhanced Download Confirmation Overlay */
    .download-confirm {
      max-width: 800px;
      width: 92%;
      height: 80vh;
      max-height: 80vh;
      overflow: hidden;
      padding: 18px;
      background: linear-gradient(145deg, rgba(22, 32, 43, 0.98), rgba(15, 20, 25, 0.98));
      backdrop-filter: blur(15px);
      border: 2px solid rgba(237, 28, 36, 0.4);
      box-shadow:
        0 0 50px rgba(237, 28, 36, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      display: flex;
      flex-direction: column;
      box-sizing: border-box;
      gap: 10px;
      position: relative;
    }

    .confirm-header {
      text-align: center;
      flex-shrink: 0;
      padding-bottom: 8px;
    }

    .confirm-icon {
      font-size: 1.5rem;
      margin-bottom: 5px;
      animation: confirmPulse 2s ease-in-out infinite;
    }

    @keyframes confirmPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .confirm-header h3 {
      font-family: 'Orbitron', monospace;
      font-size: 1.3rem;
      color: #ed1c24;
      margin-bottom: 5px;
      text-shadow: 0 0 10px rgba(237, 28, 36, 0.5);
    }

    .confirm-header p {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.9rem;
      color: #b8c5d1;
      margin: 0;
    }

    /* Hash Info Display */
    .hash-info-display {
      background: linear-gradient(145deg, rgba(0, 150, 255, 0.15), rgba(0, 150, 255, 0.05));
      border: 2px solid rgba(0, 150, 255, 0.4);
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 15px;
      margin-right: 10px;
      display: block;
      animation: hashInfoPulse 3s ease-in-out infinite;
      flex-shrink: 0;
      overflow: hidden;
      word-wrap: break-word;
      width: calc(100% - 10px);
      box-sizing: border-box;
      position: relative;
    }

    @keyframes hashInfoPulse {
      0%, 100% { border-color: rgba(0, 150, 255, 0.4); }
      50% { border-color: rgba(0, 150, 255, 0.7); }
    }

    .hash-info-icon {
      font-size: 1.2rem;
      color: #0096ff;
      float: left;
      margin-right: 8px;
      margin-top: 1px;
      width: 20px;
      text-align: center;
    }

    .hash-info-content {
      overflow: hidden;
      width: calc(100% - 28px);
      box-sizing: border-box;
      display: block;
    }

    .hash-info-title {
      font-family: 'Orbitron', monospace;
      font-size: 0.85rem;
      font-weight: 700;
      color: #0096ff;
      margin-bottom: 3px;
      line-height: 1.1;
      word-wrap: break-word;
      overflow-wrap: break-word;
      width: 100%;
      box-sizing: border-box;
    }

    .hash-info-details {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.75rem;
      color: #d0d6dd;
      line-height: 1.2;
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
      width: 100%;
      box-sizing: border-box;
      overflow: hidden;
    }

    .hash-info-details code {
      background: rgba(0, 150, 255, 0.1);
      color: #0096ff;
      padding: 1px 3px;
      border-radius: 2px;
      font-family: 'Courier New', monospace;
      font-size: 0.65rem;
      word-break: break-all;
      display: block;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box;
      margin-top: 1px;
      max-width: none;
    }

    .hash-info-details strong {
      word-wrap: break-word;
      overflow-wrap: break-word;
      display: inline;
      font-size: 0.75rem;
    }

    .hash-info-details br {
      line-height: 1.1;
    }

    /* Ensure hash content doesn't overflow */
    .hash-info-display::after {
      content: "";
      display: table;
      clear: both;
    }

    .hash-info-display * {
      max-width: 100% !important;
      box-sizing: border-box !important;
    }

    /* Download Information */
    .download-info {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 25px;
      border: 1px solid rgba(237, 28, 36, 0.3);
    }

    .info-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      font-family: 'Exo 2', sans-serif;
    }

    .info-item:last-child {
      margin-bottom: 0;
    }

    .info-label {
      color: #8fa8b8;
      font-weight: 600;
    }

    .info-value {
      color: #ed1c24;
      font-weight: 700;
      text-shadow: 0 0 5px rgba(237, 28, 36, 0.5);
    }

    /* Enhanced Button Layout */
    .confirm-button-layout {
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-shrink: 0;
      margin-top: auto;
      padding: 12px 18px 18px 18px;
      border-top: 1px solid rgba(237, 28, 36, 0.2);
      background: linear-gradient(145deg, rgba(22, 32, 43, 0.98), rgba(15, 20, 25, 0.98));
      margin-left: -18px;
      margin-right: -18px;
      margin-bottom: -18px;
      min-height: 60px;
      align-items: center;
    }

    .confirm-button-group {
      display: flex;
      flex-direction: column;
    }

    .confirm-button {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      min-width: 150px;
      justify-content: center;
    }

    .confirm-button.primary {
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      color: white;
      box-shadow: 0 5px 15px rgba(237, 28, 36, 0.3);
    }

    .confirm-button.primary:hover {
      background: linear-gradient(145deg, #ff2832, #ed1c24);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(237, 28, 36, 0.5);
    }

    .confirm-button.secondary {
      background: linear-gradient(145deg, rgba(143, 168, 184, 0.8), rgba(113, 138, 154, 0.8));
      color: white;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    .confirm-button.secondary:hover {
      background: linear-gradient(145deg, rgba(163, 188, 204, 0.9), rgba(143, 168, 184, 0.9));
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
    }

    .button-icon {
      font-size: 1.2rem;
    }

    .button-text {
      font-size: 0.9rem;
    }

    /* Hash Actions */
    .hash-actions {
      display: flex;
      justify-content: center;
      gap: 8px;
      padding: 8px 0;
      border-top: 1px solid rgba(237, 28, 36, 0.3);
      flex-shrink: 0;
      margin-bottom: 8px;
    }

    .hash-action-btn {
      background: linear-gradient(145deg, rgba(0, 150, 255, 0.8), rgba(0, 120, 200, 0.8));
      color: white;
      border: none;
      padding: 6px 10px;
      border-radius: 6px;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.7rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    .hash-action-btn:hover {
      background: linear-gradient(145deg, rgba(0, 170, 255, 0.9), rgba(0, 150, 255, 0.9));
      transform: translateY(-1px);
      box-shadow: 0 3px 10px rgba(0, 150, 255, 0.4);
    }

    /* File Picker Styles */
    .file-picker-section {
      flex: 1;
      display: flex;
      flex-direction: row;
      gap: 15px;
      min-height: 0;
      overflow: hidden;
    }

    .picker-container {
      flex: 2;
      display: flex;
      flex-direction: column;
      min-height: 0;
      overflow: hidden;
      padding-right: 5px;
    }

    .summary-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-height: 0;
      overflow: hidden;
    }

    .picker-header {
      margin-bottom: 8px;
      flex-shrink: 0;
    }

    .summary-header-container {
      margin-bottom: 8px;
      flex-shrink: 0;
    }

    .picker-header h4 {
      font-family: 'Orbitron', monospace;
      font-size: 1.2rem;
      color: #ed1c24;
      margin-bottom: 6px;
      text-shadow: 0 0 8px rgba(237, 28, 36, 0.5);
      text-align: center;
    }

    .picker-header p {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.9rem;
      color: #8fa8b8;
      margin: 0 0 10px 0;
      text-align: center;
      line-height: 1.4;
    }

    .picker-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      background: rgba(0, 0, 0, 0.2);
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid rgba(237, 28, 36, 0.2);
      flex-shrink: 0;
      margin-bottom: 10px;
    }

    .picker-controls-left {
      display: flex;
      gap: 10px;
    }

    .picker-control-btn {
      background: linear-gradient(145deg, rgba(237, 28, 36, 0.8), rgba(180, 20, 26, 0.8));
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .picker-control-btn:hover {
      background: linear-gradient(145deg, rgba(255, 40, 50, 0.9), rgba(237, 28, 36, 0.9));
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(237, 28, 36, 0.4);
    }

    .selection-count {
      font-family: 'Orbitron', monospace;
      font-size: 0.85rem;
      font-weight: 600;
      color: #ed1c24;
      background: rgba(237, 28, 36, 0.1);
      padding: 6px 10px;
      border-radius: 6px;
      border: 1px solid rgba(237, 28, 36, 0.3);
    }

    .file-picker {
      background: rgba(0, 0, 0, 0.5);
      border-radius: 8px;
      padding: 12px;
      border: 2px solid rgba(237, 28, 36, 0.4);
      flex: 1;
      overflow-y: auto;
      min-height: 200px;
      max-height: 280px;
      box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
    }

    .file-option {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 8px;
      border: 2px solid rgba(237, 28, 36, 0.2);
      background: rgba(0, 0, 0, 0.4);
      position: relative;
      min-height: 65px;
    }

    .file-option:last-child {
      margin-bottom: 0;
    }

    .file-option:hover {
      background: rgba(237, 28, 36, 0.15);
      border-color: rgba(237, 28, 36, 0.5);
      transform: translateX(5px);
      box-shadow: 0 5px 20px rgba(237, 28, 36, 0.2);
    }

    .file-option.selected {
      background: rgba(237, 28, 36, 0.25);
      border-color: rgba(237, 28, 36, 0.8);
      box-shadow: 0 0 25px rgba(237, 28, 36, 0.5);
      transform: translateX(3px);
    }

    .file-option.selected::before {
      content: '✓';
      position: absolute;
      top: 10px;
      right: 10px;
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      color: white;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      font-weight: bold;
      box-shadow: 0 3px 12px rgba(237, 28, 36, 0.6);
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .file-option.loading-placeholder {
      cursor: default;
      opacity: 0.8;
      background: rgba(0, 150, 255, 0.1);
      border-color: rgba(0, 150, 255, 0.3);
      animation: loadingPulse 2s ease-in-out infinite;
    }

    .file-option.loading-placeholder:hover {
      background: rgba(0, 150, 255, 0.1);
      border-color: rgba(0, 150, 255, 0.3);
      transform: none;
      box-shadow: none;
    }

    @keyframes loadingPulse {
      0%, 100% {
        border-color: rgba(0, 150, 255, 0.3);
        box-shadow: 0 0 10px rgba(0, 150, 255, 0.2);
      }
      50% {
        border-color: rgba(0, 150, 255, 0.6);
        box-shadow: 0 0 20px rgba(0, 150, 255, 0.4);
      }
    }

    .file-icon {
      font-size: 2.2rem;
      flex-shrink: 0;
      width: 55px;
      text-align: center;
      filter: drop-shadow(0 0 8px rgba(237, 28, 36, 0.3));
    }

    .file-details {
      flex: 1;
      min-width: 0;
      padding-right: 10px;
      overflow: hidden;
    }

    .file-name {
      font-family: 'Orbitron', monospace;
      font-size: 1.1rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 5px;
      word-break: break-all;
      text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
      line-height: 1.2;
    }

    .file-meta {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.9rem;
      color: #b8c5d1;
      line-height: 1.4;
      font-weight: 500;
      padding-right: 5px;
      overflow: hidden;
      word-wrap: break-word;
    }

    .file-size {
      color: #ed1c24;
      font-weight: 700;
      font-size: 1rem;
      text-shadow: 0 0 6px rgba(237, 28, 36, 0.5);
    }

    .file-downloads {
      color: #0096ff;
      font-weight: 600;
      text-shadow: 0 0 6px rgba(0, 150, 255, 0.5);
    }

    .file-hash {
      font-family: 'Courier New', monospace;
      font-size: 0.75rem;
      color: #8fa8b8;
      opacity: 0.9;
      margin-top: 4px;
      background: rgba(0, 0, 0, 0.3);
      padding: 3px 8px;
      border-radius: 4px;
      display: inline-block;
      word-break: break-all;
      max-width: 100%;
      box-sizing: border-box;
    }

    /* Selected Files Summary */
    .selected-files-summary {
      background: linear-gradient(145deg, rgba(237, 28, 36, 0.15), rgba(237, 28, 36, 0.05));
      border: 2px solid rgba(237, 28, 36, 0.4);
      border-radius: 8px;
      padding: 12px;
      animation: selectedPulse 2s ease-in-out infinite;
      flex: 1;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      min-height: 0;
    }

    @keyframes selectedPulse {
      0%, 100% { border-color: rgba(237, 28, 36, 0.4); }
      50% { border-color: rgba(237, 28, 36, 0.7); }
    }

    .summary-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
      flex-shrink: 0;
    }

    .summary-icon {
      font-size: 1.1rem;
      color: #28a745;
      flex-shrink: 0;
    }

    .summary-title {
      font-family: 'Orbitron', monospace;
      font-size: 0.95rem;
      font-weight: 700;
      color: #ed1c24;
      text-transform: uppercase;
      flex: 1;
      min-width: 0;
    }

    .summary-count {
      font-family: 'Orbitron', monospace;
      font-size: 0.8rem;
      font-weight: 600;
      color: #0096ff;
      background: rgba(0, 150, 255, 0.1);
      padding: 4px 6px;
      border-radius: 4px;
      border: 1px solid rgba(0, 150, 255, 0.3);
      flex-shrink: 0;
    }

    .summary-content {
      flex: 1;
      overflow-y: auto;
      margin-bottom: 8px;
      min-height: 0;
    }

    .summary-placeholder {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.85rem;
      color: #8fa8b8;
      text-align: center;
      padding: 20px 8px;
      font-style: italic;
      line-height: 1.4;
    }

    .summary-file-item {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 6px;
      margin-bottom: 6px;
      border: 1px solid rgba(237, 28, 36, 0.2);
    }

    .summary-file-item:last-child {
      margin-bottom: 0;
    }

    .summary-file-icon {
      font-size: 0.9rem;
      flex-shrink: 0;
      width: 20px;
      text-align: center;
    }

    .summary-file-name {
      font-family: 'Orbitron', monospace;
      font-size: 0.75rem;
      font-weight: 600;
      color: #e0e6ed;
      flex: 1;
      word-break: break-all;
      line-height: 1.2;
      min-width: 0;
    }

    .summary-file-size {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.7rem;
      color: #ed1c24;
      font-weight: 600;
      flex-shrink: 0;
    }

    .summary-totals {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      padding-top: 8px;
      border-top: 1px solid rgba(237, 28, 36, 0.3);
      flex-shrink: 0;
    }

    .total-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      flex: 1;
    }

    .total-label {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.65rem;
      color: #8fa8b8;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      text-align: center;
    }

    .total-value {
      font-family: 'Orbitron', monospace;
      font-size: 0.8rem;
      font-weight: 700;
      color: #ed1c24;
      text-align: center;
    }



    /* Enhanced legal document styling */
    .overlay-content .legal-content {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      margin: 10px 0;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 12px;
      border-left: 4px solid #ed1c24;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.95rem;
      line-height: 1.7;
      color: #e0e6ed;
    }

    .overlay-content .legal-content::-webkit-scrollbar {
      width: 8px;
    }

    .overlay-content .legal-content::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 4px;
    }

    .overlay-content .legal-content::-webkit-scrollbar-thumb {
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      border-radius: 4px;
    }

    .overlay-content .legal-content::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(145deg, #ff2832, #ed1c24);
    }

    .overlay-content .legal-content h1,
    .overlay-content .legal-content h2,
    .overlay-content .legal-content h3 {
      color: #ed1c24;
      font-family: 'Orbitron', monospace;
      margin: 25px 0 15px 0;
      text-shadow: 0 0 8px rgba(237, 28, 36, 0.5);
      border-bottom: 1px solid rgba(237, 28, 36, 0.3);
      padding-bottom: 8px;
    }

    .overlay-content .legal-content h1 {
      font-size: 1.5rem;
      margin-top: 0;
    }
    .overlay-content .legal-content h2 {
      font-size: 1.3rem;
    }
    .overlay-content .legal-content h3 {
      font-size: 1.1rem;
    }

    .overlay-content .legal-content p {
      margin: 15px 0;
      text-align: justify;
    }

    .overlay-content .legal-content strong {
      color: #ff6b6b;
      font-weight: 600;
    }

    .overlay-content .legal-content em {
      color: #8fa8b8;
      font-style: italic;
    }

    .overlay-content .legal-content ul,
    .overlay-content .legal-content ol {
      margin: 15px 0;
      padding-left: 25px;
    }

    .overlay-content .legal-content li {
      margin-bottom: 10px;
      color: #d0d6dd;
    }

    .overlay-content .legal-content code {
      background: rgba(237, 28, 36, 0.1);
      color: #ed1c24;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
    }

    .overlay-content .button-container {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      flex-shrink: 0;
    }

    /* Discord Join Animation Screen */
    .discord-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        radial-gradient(circle at 30% 20%, rgba(88, 101, 242, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 70% 80%, rgba(237, 28, 36, 0.1) 0%, transparent 50%),
        linear-gradient(135deg, #0a0f1c 0%, #1a252f 50%, #0f1419 100%);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10003;
      animation: overlayFadeIn 0.5s ease;
      backdrop-filter: blur(10px);
    }

    .discord-screen::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(1px 1px at 25px 35px, rgba(88, 101, 242, 0.8), transparent),
        radial-gradient(1px 1px at 85px 15px, rgba(88, 101, 242, 0.6), transparent),
        radial-gradient(1px 1px at 45px 85px, rgba(88, 101, 242, 0.4), transparent);
      background-repeat: repeat;
      background-size: 120px 100px;
      animation: discordParticles 20s linear infinite;
      opacity: 0.3;
    }

    @keyframes discordParticles {
      0% { transform: translateY(0px) translateX(0px); }
      100% { transform: translateY(-100px) translateX(50px); }
    }

    .discord-animation {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      text-align: center;
      position: relative;
      z-index: 2;
      max-width: 90vw;
      height: 100vh;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    }

    .discord-logo-container {
      position: relative;
      width: 100px;
      height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .discord-logo {
      width: 70px;
      height: 70px;
      background: linear-gradient(145deg, #5865f2, #4752c4);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.2rem;
      color: white;
      animation: discordPulse 2s ease-in-out infinite;
      box-shadow:
        0 0 25px rgba(88, 101, 242, 0.8),
        0 0 50px rgba(88, 101, 242, 0.4);
      position: relative;
      z-index: 2;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .discord-rings {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .discord-ring {
      position: absolute;
      border: 3px solid rgba(88, 101, 242, 0.6);
      border-radius: 50%;
      animation: discordRipple 3s ease-out infinite;
      box-shadow:
        0 0 20px rgba(88, 101, 242, 0.4),
        inset 0 0 20px rgba(88, 101, 242, 0.2);
    }

    .discord-ring:nth-child(1) {
      width: 90px;
      height: 90px;
      top: -45px;
      left: -45px;
      animation-delay: 0s;
      border-color: rgba(88, 101, 242, 0.8);
    }

    .discord-ring:nth-child(2) {
      width: 110px;
      height: 110px;
      top: -55px;
      left: -55px;
      animation-delay: 1s;
      border-color: rgba(88, 101, 242, 0.6);
    }

    .discord-ring:nth-child(3) {
      width: 130px;
      height: 130px;
      top: -65px;
      left: -65px;
      animation-delay: 2s;
      border-color: rgba(88, 101, 242, 0.4);
    }

    @keyframes discordPulse {
      0%, 100% {
        transform: scale(1) rotate(0deg);
        box-shadow:
          0 0 30px rgba(88, 101, 242, 0.8),
          0 0 60px rgba(88, 101, 242, 0.4),
          0 0 90px rgba(88, 101, 242, 0.2);
      }
      50% {
        transform: scale(1.1) rotate(3deg);
        box-shadow:
          0 0 40px rgba(88, 101, 242, 1),
          0 0 80px rgba(88, 101, 242, 0.6),
          0 0 120px rgba(88, 101, 242, 0.3);
      }
    }

    @keyframes discordRipple {
      0% {
        transform: scale(0.6);
        opacity: 1;
        box-shadow:
          0 0 20px rgba(88, 101, 242, 0.6),
          inset 0 0 20px rgba(88, 101, 242, 0.3);
      }
      100% {
        transform: scale(2);
        opacity: 0;
        box-shadow:
          0 0 40px rgba(88, 101, 242, 0.2),
          inset 0 0 40px rgba(88, 101, 242, 0.1);
      }
    }

    .discord-text {
      color: #5865f2;
      font-family: 'Orbitron', monospace;
      font-size: 1.5rem;
      font-weight: 900;
      text-shadow:
        0 0 12px rgba(88, 101, 242, 1),
        0 0 24px rgba(88, 101, 242, 0.6);
      animation: discordTextPulse 2s ease-in-out infinite;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin: 0;
    }

    .discord-subtext {
      color: #e0e6ed;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.9rem;
      max-width: 350px;
      line-height: 1.4;
      animation: textFade 3s ease-in-out infinite;
      text-shadow: 0 0 6px rgba(224, 230, 237, 0.3);
      margin: 0;
    }

    @keyframes discordTextPulse {
      0%, 100% {
        opacity: 0.9;
        transform: scale(1);
        text-shadow:
          0 0 20px rgba(88, 101, 242, 1),
          0 0 40px rgba(88, 101, 242, 0.6),
          0 0 60px rgba(88, 101, 242, 0.3);
      }
      50% {
        opacity: 1;
        transform: scale(1.05);
        text-shadow:
          0 0 30px rgba(88, 101, 242, 1),
          0 0 60px rgba(88, 101, 242, 0.8),
          0 0 90px rgba(88, 101, 242, 0.5);
      }
    }

    .discord-features {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-top: 15px;
      max-width: 500px;
      width: 100%;
    }

    .discord-feature {
      background:
        linear-gradient(145deg, rgba(88, 101, 242, 0.2), rgba(88, 101, 242, 0.1));
      border: 1px solid rgba(88, 101, 242, 0.5);
      border-radius: 12px;
      padding: 12px;
      text-align: center;
      animation: featureFloat 3s ease-in-out infinite;
      transition: all 0.3s ease;
      box-shadow:
        0 5px 15px rgba(88, 101, 242, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    .discord-feature:nth-child(1) { animation-delay: 0s; }
    .discord-feature:nth-child(2) { animation-delay: 0.5s; }
    .discord-feature:nth-child(3) { animation-delay: 1s; }

    .discord-feature:hover {
      transform: translateY(-8px) scale(1.08);
      background:
        linear-gradient(145deg, rgba(88, 101, 242, 0.3), rgba(88, 101, 242, 0.2));
      border-color: rgba(88, 101, 242, 0.8);
      box-shadow:
        0 15px 40px rgba(88, 101, 242, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    .discord-feature-icon {
      font-size: 1.5rem;
      margin-bottom: 6px;
      display: block;
      filter: drop-shadow(0 0 6px rgba(88, 101, 242, 0.5));
    }

    .discord-feature-title {
      color: #5865f2;
      font-family: 'Orbitron', monospace;
      font-size: 0.8rem;
      font-weight: 700;
      margin-bottom: 4px;
      text-shadow: 0 0 6px rgba(88, 101, 242, 0.5);
    }

    .discord-feature-desc {
      color: #e0e6ed;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.7rem;
      line-height: 1.3;
      text-shadow: 0 0 3px rgba(224, 230, 237, 0.3);
    }

    @keyframes featureFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .discord-countdown {
      color: #ed1c24;
      font-family: 'Orbitron', monospace;
      font-size: 1rem;
      font-weight: 700;
      margin-top: 10px;
      text-shadow:
        0 0 10px rgba(237, 28, 36, 0.8),
        0 0 20px rgba(237, 28, 36, 0.4);
      animation: countdownPulse 1s ease-in-out infinite;
    }

    @keyframes countdownPulse {
      0%, 100% {
        opacity: 0.8;
        transform: scale(1);
      }
      50% {
        opacity: 1;
        transform: scale(1.05);
      }
    }

    .discord-buttons {
      display: flex;
      gap: 15px;
      margin-top: 15px;
    }

    .discord-join-btn {
      background: linear-gradient(145deg, #5865f2, #4752c4);
      color: white;
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      font-size: 1rem;
      text-decoration: none;
      padding: 15px 30px;
      border-radius: 25px;
      border: 2px solid rgba(88, 101, 242, 0.5);
      box-shadow:
        0 5px 15px rgba(88, 101, 242, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
    }

    .discord-join-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: all 0.5s ease;
    }

    .discord-join-btn:hover {
      background: linear-gradient(145deg, #6b73ff, #5865f2);
      transform: translateY(-3px) scale(1.05);
      box-shadow:
        0 10px 25px rgba(88, 101, 242, 0.6),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
      border-color: rgba(88, 101, 242, 0.8);
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    }

    .discord-join-btn:hover::before {
      left: 100%;
    }

    .discord-cancel-btn {
      background: linear-gradient(145deg, rgba(237, 28, 36, 0.8), rgba(176, 20, 26, 0.8));
      color: white;
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      font-size: 1rem;
      padding: 15px 30px;
      border-radius: 25px;
      border: 2px solid rgba(237, 28, 36, 0.5);
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .discord-cancel-btn:hover {
      background: linear-gradient(145deg, rgba(255, 40, 50, 0.9), rgba(237, 28, 36, 0.9));
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(237, 28, 36, 0.4);
    }

    /* Responsive Design Enhancements */
    @media (max-width: 768px) {
      .container {
        margin: 10px;
        padding: 25px 30px;
      }

      header {
        flex-direction: column;
        text-align: center;
        gap: 20px;
      }

      .header-left {
        flex-direction: column;
        gap: 20px;
      }

      .header-buttons {
        justify-content: center;
      }

      header h1 {
        font-size: 2rem;
      }

      .section h2 {
        font-size: 1.8rem;
      }

      .button-group {
        flex-direction: column;
        align-items: stretch;
      }

      a.button, button.button {
        text-align: center;
      }

      .media-gallery {
        grid-template-columns: 1fr;
      }

      /* Discord responsive adjustments */
      .discord-animation {
        gap: 10px;
        padding: 15px;
      }

      .discord-logo-container {
        width: 80px;
        height: 80px;
      }

      .discord-logo {
        width: 60px;
        height: 60px;
        font-size: 1.8rem;
      }

      .discord-ring:nth-child(1) {
        width: 70px;
        height: 70px;
        top: -35px;
        left: -35px;
      }

      .discord-ring:nth-child(2) {
        width: 85px;
        height: 85px;
        top: -42px;
        left: -42px;
      }

      .discord-ring:nth-child(3) {
        width: 100px;
        height: 100px;
        top: -50px;
        left: -50px;
      }

      .discord-text {
        font-size: 1.2rem;
        letter-spacing: 1px;
      }

      .discord-subtext {
        font-size: 0.8rem;
        max-width: 280px;
      }

      .discord-features {
        grid-template-columns: 1fr;
        gap: 8px;
        margin-top: 10px;
        max-width: 280px;
      }

      .discord-feature {
        padding: 10px;
      }

      .discord-feature-icon {
        font-size: 1.3rem;
        margin-bottom: 4px;
      }

      .discord-feature-title {
        font-size: 0.7rem;
        margin-bottom: 3px;
      }

      .discord-feature-desc {
        font-size: 0.6rem;
      }

      .discord-buttons {
        flex-direction: column;
        gap: 10px;
        width: 100%;
        max-width: 280px;
      }

      .discord-join-btn,
      .discord-cancel-btn {
        width: 100%;
        text-align: center;
        padding: 12px 20px;
        font-size: 0.9rem;
      }

      .discord-countdown {
        font-size: 0.9rem;
        margin-top: 8px;
      }
    }

    /* Donation Animation Screen */
    .donation-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        radial-gradient(circle at 20% 30%, rgba(237, 28, 36, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
        linear-gradient(135deg, #0a0f1c 0%, #1a252f 50%, #0f1419 100%);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10004;
      animation: overlayFadeIn 0.5s ease;
      backdrop-filter: blur(10px);
    }

    .donation-screen::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(1px 1px at 30px 25px, rgba(255, 215, 0, 0.6), transparent),
        radial-gradient(1px 1px at 70px 45px, rgba(237, 28, 36, 0.4), transparent),
        radial-gradient(1px 1px at 90px 15px, rgba(255, 215, 0, 0.3), transparent);
      background-repeat: repeat;
      background-size: 100px 80px;
      animation: donationParticles 25s linear infinite;
      opacity: 0.2;
    }

    @keyframes donationParticles {
      0% { transform: translateY(0px) translateX(0px); }
      100% { transform: translateY(-120px) translateX(60px); }
    }

    .donation-animation {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      text-align: center;
      position: relative;
      z-index: 2;
      max-width: 90vw;
      height: 100vh;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    }

    .donation-logo-container {
      position: relative;
      width: 100px;
      height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .donation-logo {
      width: 70px;
      height: 70px;
      background: linear-gradient(145deg, #ffd700, #ffb347);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.2rem;
      color: #0a0f1c;
      animation: donationPulse 2s ease-in-out infinite;
      box-shadow:
        0 0 30px rgba(255, 215, 0, 0.8),
        0 0 60px rgba(255, 215, 0, 0.4);
      position: relative;
      z-index: 2;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .donation-rings {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .donation-ring {
      position: absolute;
      border: 2px solid rgba(255, 215, 0, 0.4);
      border-radius: 50%;
      animation: donationRipple 3s ease-out infinite;
      box-shadow:
        0 0 15px rgba(255, 215, 0, 0.3),
        inset 0 0 15px rgba(255, 215, 0, 0.1);
    }

    .donation-ring:nth-child(1) {
      width: 90px;
      height: 90px;
      top: -45px;
      left: -45px;
      animation-delay: 0s;
      border-color: rgba(255, 215, 0, 0.8);
    }

    .donation-ring:nth-child(2) {
      width: 110px;
      height: 110px;
      top: -55px;
      left: -55px;
      animation-delay: 1s;
      border-color: rgba(255, 215, 0, 0.6);
    }

    .donation-ring:nth-child(3) {
      width: 130px;
      height: 130px;
      top: -65px;
      left: -65px;
      animation-delay: 2s;
      border-color: rgba(255, 215, 0, 0.4);
    }

    @keyframes donationPulse {
      0%, 100% {
        transform: scale(1) rotate(0deg);
        box-shadow:
          0 0 30px rgba(255, 215, 0, 0.8),
          0 0 60px rgba(255, 215, 0, 0.4);
      }
      50% {
        transform: scale(1.1) rotate(3deg);
        box-shadow:
          0 0 40px rgba(255, 215, 0, 1),
          0 0 80px rgba(255, 215, 0, 0.6);
      }
    }

    @keyframes donationRipple {
      0% {
        transform: scale(0.6);
        opacity: 1;
        box-shadow:
          0 0 15px rgba(255, 215, 0, 0.4),
          inset 0 0 15px rgba(255, 215, 0, 0.2);
      }
      100% {
        transform: scale(2);
        opacity: 0;
        box-shadow:
          0 0 30px rgba(255, 215, 0, 0.1),
          inset 0 0 30px rgba(255, 215, 0, 0.05);
      }
    }

    .donation-text {
      color: #ffd700;
      font-family: 'Orbitron', monospace;
      font-size: 1.5rem;
      font-weight: 900;
      text-shadow:
        0 0 15px rgba(255, 215, 0, 1),
        0 0 30px rgba(255, 215, 0, 0.6);
      animation: donationTextPulse 2s ease-in-out infinite;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin: 0;
    }

    .donation-subtext {
      color: #e0e6ed;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.9rem;
      max-width: 350px;
      line-height: 1.4;
      animation: textFade 3s ease-in-out infinite;
      text-shadow: 0 0 6px rgba(224, 230, 237, 0.3);
      margin: 0;
    }

    @keyframes donationTextPulse {
      0%, 100% {
        opacity: 0.9;
        transform: scale(1);
        text-shadow:
          0 0 15px rgba(255, 215, 0, 1),
          0 0 30px rgba(255, 215, 0, 0.6);
      }
      50% {
        opacity: 1;
        transform: scale(1.05);
        text-shadow:
          0 0 20px rgba(255, 215, 0, 1),
          0 0 40px rgba(255, 215, 0, 0.8);
      }
    }

    .donation-options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 15px;
      max-width: 500px;
      width: 100%;
    }

    .donation-option {
      background:
        linear-gradient(145deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1));
      border: 1px solid rgba(255, 215, 0, 0.5);
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      animation: donationFloat 3s ease-in-out infinite;
      transition: all 0.3s ease;
      cursor: pointer;
      text-decoration: none;
      color: inherit;
      display: block;
      box-shadow:
        0 5px 15px rgba(255, 215, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    .donation-option:nth-child(1) { animation-delay: 0s; }
    .donation-option:nth-child(2) { animation-delay: 0.2s; }
    .donation-option:nth-child(3) { animation-delay: 0.4s; }
    .donation-option:nth-child(4) { animation-delay: 0.6s; }

    .donation-option:hover {
      transform: translateY(-5px) scale(1.05);
      background:
        linear-gradient(145deg, rgba(255, 215, 0, 0.3), rgba(255, 215, 0, 0.2));
      border-color: rgba(255, 215, 0, 0.8);
      box-shadow:
        0 10px 25px rgba(255, 215, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    .donation-option-icon {
      font-size: 1.8rem;
      margin-bottom: 8px;
      display: block;
      filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.5));
    }

    .donation-option-title {
      color: #ffd700;
      font-family: 'Orbitron', monospace;
      font-size: 0.9rem;
      font-weight: 700;
      margin-bottom: 6px;
      text-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
    }

    .donation-option-desc {
      color: #e0e6ed;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.7rem;
      line-height: 1.3;
      text-shadow: 0 0 4px rgba(224, 230, 237, 0.3);
    }

    @keyframes donationFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
    }

    .donation-close {
      background: linear-gradient(145deg, rgba(237, 28, 36, 0.8), rgba(176, 20, 26, 0.8));
      color: white;
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      font-size: 1rem;
      padding: 12px 25px;
      border-radius: 25px;
      border: 2px solid rgba(237, 28, 36, 0.5);
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-top: 15px;
    }

    .donation-close:hover {
      background: linear-gradient(145deg, rgba(255, 40, 50, 0.9), rgba(237, 28, 36, 0.9));
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(237, 28, 36, 0.4);
    }

    /* Mobile responsive for donation screen */
    @media (max-width: 768px) {
      .donation-animation {
        gap: 10px;
        padding: 15px;
      }

      .donation-logo-container {
        width: 80px;
        height: 80px;
      }

      .donation-logo {
        width: 60px;
        height: 60px;
        font-size: 1.8rem;
      }

      .donation-text {
        font-size: 1.2rem;
      }

      .donation-subtext {
        font-size: 0.8rem;
        max-width: 280px;
      }

      .donation-options {
        grid-template-columns: 1fr;
        gap: 12px;
        margin-top: 15px;
        max-width: 280px;
      }

      .donation-option {
        padding: 15px;
      }

      .donation-option-icon {
        font-size: 2rem;
      }

      .donation-option-title {
        font-size: 0.9rem;
      }

      .donation-option-desc {
        font-size: 0.7rem;
      }

      /* Clean download screen mobile */
      .download-content {
        padding: 30px 20px;
        gap: 20px;
        max-width: 95%;
        margin: 20px;
      }

      .download-spinner {
        width: 60px;
        height: 60px;
        border-width: 3px;
      }

      .download-spinner::before {
        width: 45px;
        height: 45px;
        border-width: 2px;
      }

      .download-text {
        font-size: 1.2rem;
        line-height: 1.3;
      }

      .download-subtext {
        font-size: 0.9rem;
        max-width: 280px;
        line-height: 1.4;
      }

      .download-progress-container {
        max-width: 280px;
        height: 8px;
      }

      .download-percentage {
        font-size: 1rem;
      }

      /* Enhanced download confirmation mobile */
      .download-confirm {
        padding: 12px;
        max-width: 98%;
        width: 98%;
        height: 85vh;
        max-height: 85vh;
        gap: 8px;
      }

      .confirm-header h3 {
        font-size: 1.1rem;
        margin-bottom: 3px;
      }

      .confirm-header p {
        font-size: 0.8rem;
      }

      /* Hash info mobile */
      .hash-info-display {
        padding: 6px;
        margin-bottom: 8px;
        width: 100%;
        overflow: hidden;
      }

      .hash-info-content {
        width: calc(100% - 24px);
        overflow: hidden;
      }

      .hash-info-icon {
        font-size: 0.9rem;
        width: 18px;
        margin-right: 6px;
      }

      .hash-info-title {
        font-size: 0.7rem;
        margin-bottom: 2px;
        line-height: 1;
      }

      .hash-info-details {
        font-size: 0.65rem;
        line-height: 1.1;
        width: 100%;
        overflow: hidden;
      }

      .hash-info-details code {
        font-size: 0.6rem;
        padding: 1px 2px;
        width: 100%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .hash-info-details strong {
        font-size: 0.65rem;
        word-break: break-word;
      }

      .hash-actions {
        gap: 6px;
        padding: 6px 0;
        margin-bottom: 6px;
      }

      .hash-action-btn {
        padding: 5px 8px;
        font-size: 0.65rem;
      }

      /* Mobile: Stack vertically instead of side-by-side */
      .file-picker-section {
        flex-direction: column;
        gap: 10px;
      }

      .picker-container {
        flex: none;
      }

      .summary-container {
        flex: none;
      }

      .picker-header h4 {
        font-size: 1.1rem;
        margin-bottom: 4px;
      }

      .picker-header p {
        font-size: 0.8rem;
        margin-bottom: 8px;
      }

      .summary-header-container h4 {
        font-size: 1rem;
        margin-bottom: 3px;
      }

      .summary-header-container p {
        font-size: 0.75rem;
        margin-bottom: 6px;
      }

      .picker-controls {
        padding: 6px 8px;
        margin-bottom: 8px;
        gap: 8px;
      }

      .picker-control-btn {
        padding: 6px 10px;
        font-size: 0.7rem;
      }

      .selection-count {
        font-size: 0.75rem;
        padding: 4px 6px;
      }

      .file-picker {
        min-height: 140px;
        max-height: 180px;
        padding: 10px;
      }

      .file-option {
        padding: 8px;
        gap: 10px;
        min-height: 55px;
        margin-bottom: 6px;
      }

      .file-icon {
        font-size: 1.8rem;
        width: 45px;
      }

      .file-name {
        font-size: 0.95rem;
        margin-bottom: 3px;
      }

      .file-meta {
        font-size: 0.8rem;
        line-height: 1.3;
      }

      .selected-files-summary {
        padding: 8px;
      }

      .summary-header {
        gap: 6px;
        margin-bottom: 8px;
      }

      .summary-title {
        font-size: 0.85rem;
      }

      .summary-count {
        font-size: 0.7rem;
        padding: 3px 5px;
      }

      .summary-file-item {
        padding: 6px;
        gap: 5px;
        margin-bottom: 4px;
      }

      .summary-file-name {
        font-size: 0.7rem;
      }

      .summary-file-size {
        font-size: 0.65rem;
      }

      .total-label {
        font-size: 0.6rem;
      }

      .total-value {
        font-size: 0.75rem;
      }

      .confirm-button-layout {
        margin-left: -12px;
        margin-right: -12px;
        margin-bottom: -12px;
        padding: 10px 12px 12px 12px;
        min-height: 50px;
        gap: 10px;
      }

      .confirm-button {
        padding: 8px 16px;
        font-size: 0.75rem;
        min-width: 120px;
        gap: 4px;
      }

      .picker-controls {
        padding: 5px 8px;
        margin-bottom: 5px;
      }

      .picker-control-btn {
        padding: 4px 8px;
        font-size: 0.7rem;
      }

      .selection-count {
        font-size: 0.7rem;
        padding: 3px 6px;
      }

      .confirm-icon {
        font-size: 2.5rem;
      }

      .confirm-header h3 {
        font-size: 1.5rem;
      }

      .confirm-header p {
        font-size: 1rem;
      }

      .confirm-button-layout {
        flex-direction: column;
        gap: 15px;
      }

      .left-confirm-buttons,
      .right-confirm-buttons {
        align-items: center;
      }

      .confirm-button {
        min-width: 100%;
        padding: 12px 20px;
        font-size: 0.9rem;
      }

      .hash-actions {
        flex-direction: column;
        gap: 10px;
      }

      .hash-action-btn {
        width: 100%;
        padding: 10px;
      }

      /* File picker mobile */
      .file-picker {
        padding: 10px;
      }

      .file-option {
        padding: 12px;
        gap: 12px;
        margin-bottom: 6px;
      }

      .file-icon {
        font-size: 2rem;
        width: 50px;
      }

      .file-name {
        font-size: 1rem;
      }

      .file-meta {
        font-size: 0.85rem;
        padding-right: 8px;
      }

      .file-hash {
        font-size: 0.7rem;
        padding: 2px 6px;
        word-break: break-all;
        max-width: calc(100% - 10px);
      }

      .hash-info-display {
        padding: 10px;
        margin-bottom: 12px;
        margin-right: 8px;
        width: calc(100% - 8px);
      }

      .file-option.selected::before {
        width: 20px;
        height: 20px;
        font-size: 0.9rem;
        top: 10px;
        right: 10px;
      }

      .selected-meta {
        flex-direction: column;
        align-items: flex-start;
        gap: 4px;
      }

      .selected-separator {
        display: none;
      }

      .selected-hash {
        font-size: 0.7rem;
        word-break: break-all;
      }

      /* Multi-selection mobile */
      .picker-controls {
        flex-direction: column;
        gap: 12px;
        align-items: stretch;
      }

      .picker-controls-left {
        justify-content: center;
        width: 100%;
      }

      .picker-control-btn {
        flex: 1;
        padding: 10px;
        font-size: 0.8rem;
      }

      .selection-count {
        text-align: center;
        font-size: 0.8rem;
        width: 100%;
      }

      .confirm-button-layout {
        flex-direction: column;
        gap: 15px;
      }

      .confirm-button {
        min-width: 100%;
      }

      .summary-totals {
        flex-direction: column;
        gap: 10px;
      }

      .summary-file-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
      }

      .summary-file-name {
        font-size: 0.8rem;
      }

      .summary-file-size {
        align-self: flex-end;
      }
    }

    /* Login Animation Screen */
    .login-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background:
        radial-gradient(circle at 40% 30%, rgba(237, 28, 36, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 60% 70%, rgba(0, 150, 255, 0.1) 0%, transparent 50%),
        linear-gradient(135deg, #0a0f1c 0%, #1a252f 50%, #0f1419 100%);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10005;
      animation: overlayFadeIn 0.5s ease;
      backdrop-filter: blur(10px);
      z-index: 10000;
    }

    .login-screen::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(1px 1px at 35px 25px, rgba(237, 28, 36, 0.6), transparent),
        radial-gradient(1px 1px at 75px 45px, rgba(0, 150, 255, 0.4), transparent),
        radial-gradient(1px 1px at 95px 15px, rgba(237, 28, 36, 0.3), transparent);
      background-repeat: repeat;
      background-size: 120px 100px;
      animation: loginParticles 30s linear infinite;
      opacity: 0.2;
    }

    @keyframes loginParticles {
      0% { transform: translateY(0px) translateX(0px); }
      100% { transform: translateY(-150px) translateX(80px); }
    }

    .login-animation {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      text-align: center;
      position: relative;
      z-index: 2;
      max-width: 90vw;
      height: 100vh;
      justify-content: center;
      padding: 15px;
      box-sizing: border-box;
    }

    .login-container {
      background: linear-gradient(145deg, rgba(22, 32, 43, 0.98), rgba(15, 20, 25, 0.98));
      padding: 25px;
      border-radius: 20px;
      width: 100%;
      max-width: 380px;
      max-height: 85vh;
      overflow-y: auto;
      box-shadow:
        0 0 50px rgba(237, 28, 36, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(237, 28, 36, 0.4);
      position: relative;
      backdrop-filter: blur(10px);
    }

    .login-container::-webkit-scrollbar {
      width: 6px;
    }

    .login-container::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 3px;
    }

    .login-container::-webkit-scrollbar-thumb {
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      border-radius: 3px;
    }

    .login-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, #ed1c24, transparent);
      animation: scanLine 2s ease-in-out infinite;
    }

    .login-header {
      text-align: center;
      margin-bottom: 20px;
    }

    .login-logo {
      width: 60px;
      height: 60px;
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
      margin: 0 auto 15px;
      animation: loginLogoPulse 2s ease-in-out infinite;
      box-shadow:
        0 0 20px rgba(237, 28, 36, 0.6),
        inset 0 0 10px rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    @keyframes loginLogoPulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 25px rgba(237, 28, 36, 0.6), inset 0 0 15px rgba(255, 255, 255, 0.1);
      }
      50% {
        transform: scale(1.05);
        box-shadow: 0 0 35px rgba(237, 28, 36, 0.8), inset 0 0 20px rgba(255, 255, 255, 0.2);
      }
    }

    .login-title {
      font-family: 'Orbitron', monospace;
      font-size: 1.5rem;
      font-weight: 900;
      color: #ed1c24;
      text-shadow: 0 0 12px rgba(237, 28, 36, 0.8);
      margin-bottom: 8px;
      letter-spacing: 1px;
    }

    .login-subtitle {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.9rem;
      color: #8fa8b8;
      margin-bottom: 0;
    }

    .login-form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .form-label {
      font-family: 'Orbitron', monospace;
      font-size: 0.9rem;
      font-weight: 600;
      color: #ed1c24;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .form-input {
      background: rgba(0, 0, 0, 0.3);
      border: 2px solid rgba(237, 28, 36, 0.3);
      border-radius: 8px;
      padding: 12px;
      font-family: 'Exo 2', sans-serif;
      font-size: 0.9rem;
      color: #e0e6ed;
      transition: all 0.3s ease;
    }

    .form-input:focus {
      outline: none;
      border-color: rgba(237, 28, 36, 0.8);
      box-shadow: 0 0 12px rgba(237, 28, 36, 0.3);
      background: rgba(0, 0, 0, 0.4);
    }

    .show-password-container {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 8px;
    }

    .show-password-checkbox {
      width: 16px;
      height: 16px;
      cursor: pointer;
      accent-color: #0096ff;
    }

    .show-password-label {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.85rem;
      color: #8fa8b8;
      cursor: pointer;
      user-select: none;
      transition: color 0.3s ease;
    }

    .show-password-label:hover {
      color: #0096ff;
    }

    .forgot-password-container {
      text-align: center;
      margin: 10px 0;
    }

    .forgot-password-btn {
      background: linear-gradient(145deg, rgba(0, 150, 255, 0.1), rgba(0, 120, 200, 0.1));
      border: 2px solid rgba(0, 150, 255, 0.3);
      color: #0096ff;
      font-family: 'Orbitron', monospace;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.3s ease;
      padding: 10px 20px;
      border-radius: 25px;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 4px 15px rgba(0, 150, 255, 0.2);
      backdrop-filter: blur(10px);
    }

    .forgot-password-btn:hover {
      color: #ffffff;
      background: linear-gradient(145deg, rgba(0, 150, 255, 0.8), rgba(0, 120, 200, 0.8));
      border-color: rgba(0, 150, 255, 0.6);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 150, 255, 0.4);
    }

    .forgot-password-btn:active {
      transform: translateY(0);
    }

    .form-input::placeholder {
      color: #8fa8b8;
      opacity: 0.7;
    }

    .login-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 8px;
    }

    .login-btn {
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      color: white;
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      font-size: 0.9rem;
      padding: 12px;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
    }

    .login-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: all 0.5s ease;
    }

    .login-btn:hover {
      background: linear-gradient(145deg, #ff2832, #ed1c24);
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(237, 28, 36, 0.4);
    }

    .login-btn:hover::before {
      left: 100%;
    }

    .register-btn {
      background: linear-gradient(145deg, rgba(0, 150, 255, 0.8), rgba(0, 120, 200, 0.8));
      border: 2px solid rgba(0, 150, 255, 0.5);
    }

    .register-btn:hover {
      background: linear-gradient(145deg, rgba(0, 170, 255, 0.9), rgba(0, 150, 255, 0.9));
      box-shadow: 0 8px 20px rgba(0, 150, 255, 0.4);
    }

    .login-close {
      position: absolute;
      top: 15px;
      right: 20px;
      background: linear-gradient(145deg, rgba(237, 28, 36, 0.8), rgba(176, 20, 26, 0.8));
      color: white;
      border: none;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .login-close:hover {
      background: linear-gradient(145deg, rgba(255, 40, 50, 0.9), rgba(237, 28, 36, 0.9));
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(237, 28, 36, 0.4);
    }

    .login-divider {
      text-align: center;
      margin: 20px 0;
      position: relative;
      color: #8fa8b8;
      font-family: 'Exo 2', sans-serif;
    }

    .login-divider::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(237, 28, 36, 0.3), transparent);
    }

    .login-divider span {
      background: linear-gradient(145deg, rgba(22, 32, 43, 0.98), rgba(15, 20, 25, 0.98));
      padding: 0 15px;
    }

    /* Mobile responsive for login screen */
    @media (max-width: 768px) {
      .login-animation {
        padding: 10px;
      }

      .login-container {
        padding: 20px;
        margin: 10px;
        max-width: 350px;
        max-height: 90vh;
      }

      .login-logo {
        width: 50px;
        height: 50px;
        font-size: 1.5rem;
        margin-bottom: 10px;
      }

      .login-title {
        font-size: 1.3rem;
      }

      .login-subtitle {
        font-size: 0.8rem;
      }

      .form-input {
        padding: 10px;
        font-size: 0.85rem;
      }

      .login-btn {
        padding: 10px;
        font-size: 0.8rem;
      }

      .form-group {
        gap: 4px;
      }

      .login-form {
        gap: 12px;
      }

      .login-buttons {
        gap: 10px;
      }
    }

    /* Custom Notification System */
    .notification-container {
      position: fixed !important;
      top: 20px !important;
      right: 20px !important;
      z-index: 2147483647 !important;
      display: flex !important;
      flex-direction: column !important;
      gap: 10px !important;
      max-width: 400px !important;
      pointer-events: none !important;
      isolation: isolate !important;
      contain: layout style paint !important;
    }

    .custom-notification {
      background: linear-gradient(145deg, rgba(22, 32, 43, 0.98), rgba(15, 20, 25, 0.98)) !important;
      border: 2px solid rgba(237, 28, 36, 0.6) !important;
      border-radius: 15px !important;
      padding: 20px !important;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8) !important;
      backdrop-filter: blur(10px) !important;
      transform: translateX(450px) !important;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
      opacity: 0 !important;
      position: relative !important;
      overflow: hidden !important;
      pointer-events: auto !important;
      z-index: 2147483647 !important;
    }

    .custom-notification.show {
      transform: translateX(0);
      opacity: 1;
    }

    .notification-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .notification-logo {
      width: 32px;
      height: 32px;
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      color: white;
      text-shadow: 0 0 8px rgba(237, 28, 36, 0.8);
      box-shadow: 0 4px 15px rgba(237, 28, 36, 0.4);
    }

    .notification-title {
      font-family: 'Orbitron', monospace;
      font-size: 1rem;
      font-weight: 700;
      color: #ed1c24;
      text-shadow: 0 0 8px rgba(237, 28, 36, 0.5);
      flex: 1;
    }

    .notification-close {
      background: none;
      border: none;
      color: #8fa8b8;
      font-size: 1.2rem;
      cursor: pointer;
      padding: 2px;
      border-radius: 50%;
      transition: all 0.3s ease;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .notification-close:hover {
      background: rgba(255, 69, 58, 0.2);
      color: #ff453a;
    }

    .notification-content {
      font-family: 'Exo 2', sans-serif;
      font-size: 0.9rem;
      color: #e0e6ed;
      line-height: 1.5;
      margin-bottom: 15px;
    }

    .notification-details {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(0, 150, 255, 0.2);
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 15px;
      font-family: 'Courier New', monospace;
      font-size: 0.8rem;
      color: #0096ff;
    }

    .notification-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 3px;
      background: linear-gradient(90deg, #ed1c24, #ff2832);
      border-radius: 0 0 15px 15px;
      transition: width 0.1s linear;
    }

    .custom-notification.success {
      border-color: rgba(0, 255, 127, 0.6);
    }

    .custom-notification.success .notification-progress {
      background: linear-gradient(90deg, #00ff7f, #00e676);
    }

    .notification-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 15px;
    }

    .notification-btn {
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      font-size: 0.8rem;
      padding: 8px 16px;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .notification-btn.primary {
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      color: white;
      box-shadow: 0 3px 10px rgba(237, 28, 36, 0.3);
    }

    .notification-btn.primary:hover {
      background: linear-gradient(145deg, #ff2832, #ed1c24);
      transform: translateY(-1px);
      box-shadow: 0 5px 15px rgba(237, 28, 36, 0.5);
    }

    .notification-btn.secondary {
      background: linear-gradient(145deg, rgba(0, 150, 255, 0.8), rgba(0, 120, 200, 0.8));
      color: white;
      border: 1px solid rgba(0, 150, 255, 0.5);
    }

    .notification-btn.secondary:hover {
      background: linear-gradient(145deg, rgba(0, 170, 255, 0.9), rgba(0, 150, 255, 0.9));
      transform: translateY(-1px);
    }

    .notification-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 15px;
    }

    .notification-btn {
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      font-size: 0.8rem;
      padding: 8px 16px;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .notification-btn.primary {
      background: linear-gradient(145deg, #ed1c24, #b0141a);
      color: white;
      box-shadow: 0 3px 10px rgba(237, 28, 36, 0.3);
    }

    .notification-btn.primary:hover {
      background: linear-gradient(145deg, #ff2832, #ed1c24);
      transform: translateY(-1px);
      box-shadow: 0 5px 15px rgba(237, 28, 36, 0.5);
    }

    .notification-btn.secondary {
      background: linear-gradient(145deg, rgba(0, 150, 255, 0.8), rgba(0, 120, 200, 0.8));
      color: white;
      border: 1px solid rgba(0, 150, 255, 0.5);
    }

    .notification-btn.secondary:hover {
      background: linear-gradient(145deg, rgba(0, 170, 255, 0.9), rgba(0, 150, 255, 0.9));
      transform: translateY(-1px);
    }

    @media (max-width: 768px) {
      .notification-container {
        top: 10px;
        right: 10px;
        left: 10px;
        max-width: none;
      }

      .custom-notification {
        transform: translateY(-100px);
      }

      .custom-notification.show {
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="header-left">
        <img src="https://github.com/HarleyTG-O/sc-killfeed/blob/main/logo.png?raw=true" alt="Logo" />
        <h1>
          Star Citizen Kill Tracker
        </h1>
      </div>
      <div class="header-buttons">
        <button class="button header-login-btn" id="loginButton">👤 Login / Register</button>
      </div>
    </header>

    <!-- New Status Section -->
    <section class="section">
      <h2>Status</h2>
      <div id="statusList">
        Loading status...
      </div>
    </section>

    <section class="section">
      <h2>Welcome</h2>
      <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 25px; color: #b8c5d1;">Track player deaths in Star Citizen and receive real-time Discord notifications for PvP, Suicide, and Environmental deaths. Experience the ultimate kill tracking system designed for the Star Citizen universe.</p>

      <div class="button-group">
        <a href="https://github.com/HarleyTG-O/sc-killfeed/releases/download/Global/SCKillTrac.Global.zip" class="button" id="downloadButton">🚀 Download Latest</a>
        <button class="button" id="discordButton">💬 Join Discord</button>
        <button class="button" id="donationButton">💰 Support Development</button>
      </div>
    </section>

    <section class="section">
      <h2>Legal Information</h2>
      <p style="font-size: 1.1rem; line-height: 1.6; margin-bottom: 20px; color: #b8c5d1;">Review our legal documents and policies. These documents outline the terms of use, privacy practices, and licensing agreements for SC Kill Tracker.</p>
      <div class="button-group">
        <button class="button" onclick="showLegalOverlay('tos')">📋 Terms of Service</button>
        <button class="button" onclick="showLegalOverlay('privacy')">🔒 Privacy Policy</button>
        <button class="button" onclick="showLegalOverlay('eula')">📄 End User License Agreement</button>
      </div>
    </section>

    <section class="section">
      <h2>Features</h2>
      <ul>
        <li>⚡ Real-time Death Tracking - Monitor kills as they happen</li>
        <li>🔔 Discord Notifications - Instant alerts to your server</li>
        <li>🎯 Kill Type Classification - PvP, Suicide, Environmental detection</li>
        <li>🖥️ User-friendly Interface - Sleek, intuitive design</li>
        <li>🛡️ Advanced Security - Secure and reliable tracking</li>
        <li>⚙️ Customizable Settings - Tailor to your preferences</li>
      </ul>
    </section>

  <section class="section">
    <h2>Media Gallery</h2>
    <div class="media-gallery">
      <video controls src="https://github.com/HarleyTG-O/sc-killfeed/blob/main/Media/Overlay%2BNotfication.mp4?raw=true"></video>
      <video controls src="https://github.com/HarleyTG-O/sc-killfeed/blob/main/Media/SCKillTrac-SplashScreen.mp4?raw=true"></video>
      <img src="https://github.com/HarleyTG-O/sc-killfeed/blob/main/Media/discordrpc.png?raw=true" alt="discordrpc" />
      <img src="https://github.com/HarleyTG-O/sc-killfeed/blob/main/Media/mainmenu1.png?raw=true" alt="mainmenu1" />
      <img src="https://github.com/HarleyTG-O/sc-killfeed/blob/main/Media/mainmenu2.png?raw=true" alt="mainmenu2" />
      <img src="https://github.com/HarleyTG-O/sc-killfeed/blob/main/Media/mainmenu3.png?raw=true" alt="mainmenu3" />
      <img src="https://github.com/HarleyTG-O/sc-killfeed/blob/main/Media/mainmenu4.png?raw=true" alt="mainmenu4" />
      <img src="https://github.com/HarleyTG-O/sc-killfeed/blob/main/Media/userdiscordrpc.png?raw=true" alt="userdiscordrpc" />
      <img src="https://github.com/HarleyTG-O/sc-killfeed/blob/main/Media/welcome-sckilltrac.png?raw=true" alt="welcome-sckilltrac" />
    </div>
  </section>
  </div>

  <footer>
    <p>&copy; 2025 Star Citizen Kill Tracker | Built by the community for the verse</p>
  </footer>

  <!-- Loading Screen -->
  <div id="loadingScreen" style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #0a0f1c 0%, #1a252f 50%, #0f1419 100%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    transition: opacity 0.5s ease;
  ">
    <!-- Film Grain Overlay -->
    <div style="
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        radial-gradient(circle at 25% 25%, transparent 2px, rgba(255,255,255,0.02) 2px, rgba(255,255,255,0.02) 4px, transparent 4px),
        radial-gradient(circle at 75% 75%, transparent 2px, rgba(255,255,255,0.01) 2px, rgba(255,255,255,0.01) 4px, transparent 4px),
        radial-gradient(circle at 50% 50%, transparent 1px, rgba(255,255,255,0.015) 1px, rgba(255,255,255,0.015) 3px, transparent 3px);
      background-size: 50px 50px, 80px 80px, 30px 30px;
      opacity: 0.8;
      z-index: 1;
      animation: filmGrain 0.2s steps(10) infinite;
    "></div>

    <!-- Background Logo -->
    <div style="
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 600px;
      height: 600px;
      background: url('https://github.com/HarleyTG-O/sc-killfeed/blob/main/logo_grayscale_transparent.png?raw=true') center center no-repeat;
      background-size: contain;
      opacity: 0.25;
      z-index: 2;
      filter: contrast(1.2) brightness(1.1);
    "></div>

    <!-- Content -->
    <div style="
      position: relative;
      z-index: 3;
      display: flex;
      flex-direction: column;
      align-items: center;
    ">
      <div style="
        font-family: 'Orbitron', monospace;
        font-size: 2.2rem;
        font-weight: 700;
        color: #ed1c24;
        text-shadow: 0 0 20px rgba(237, 28, 36, 0.8);
        margin-bottom: 40px;
        text-align: center;
        animation: pulse 2s ease-in-out infinite;
      ">STAR CITIZEN KILL TRACKER</div>

      <!-- Loading Bar Container -->
      <div style="
        width: 400px;
        height: 6px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 3px;
        border: 1px solid rgba(237, 28, 36, 0.3);
        margin-bottom: 20px;
        overflow: hidden;
        position: relative;
      ">
        <!-- Loading Bar -->
        <div id="loadingBar" style="
          width: 0%;
          height: 100%;
          background: linear-gradient(90deg, #ed1c24, #ff2832, #ed1c24);
          background-size: 200% 100%;
          border-radius: 3px;
          transition: width 0.3s ease;
          animation: loadingShine 2s ease-in-out infinite;
        "></div>
      </div>

      <div class="loading-spinner"></div>

      <p id="loadingText" style="
        color: #8fa8b8;
        font-family: 'Exo 2', sans-serif;
        font-size: 1.1rem;
        margin-top: 20px;
        text-align: center;
      ">Initializing Combat Tracking Systems...</p>
    </div>
  </div>



  <!-- Overlay for Terms/Privacy/EULA -->
  <div class="overlay" id="legalOverlay">
    <div class="overlay-content">
      <button class="close-button" onclick="hideLegalOverlay()">✕</button>
      <h3 id="legalOverlayTitle">Loading...</h3>
      <div id="legalOverlayText" class="legal-content">
        <div style="text-align: center; padding: 40px;">
          <div class="loading-spinner" style="margin: 0 auto;"></div>
          <p style="margin-top: 20px; color: #8fa8b8;">Loading document...</p>
        </div>
      </div>
      <div class="button-container">
        <button class="button" onclick="hideLegalOverlay()">Close</button>
      </div>
    </div>
  </div>

  <!-- Enhanced Download Confirmation Overlay -->
  <div class="overlay" id="exitOverlay">
    <div class="overlay-content download-confirm">
      <div class="confirm-header">
        <div class="confirm-icon">🚀</div>
        <h3>Download SC Kill Tracker</h3>
        <p>Are you ready to download the latest release?</p>
      </div>

      <!-- Hash Information Display -->
      <div class="hash-info-display" id="hashInfoDisplay" style="display: none;">
        <div class="hash-info-icon">🔗</div>
        <div class="hash-info-content">
          <div class="hash-info-title">Hash Parameters Detected</div>
          <div class="hash-info-details" id="hashInfoDetails">Loading...</div>
        </div>
      </div>

      <!-- File Picker Section -->
      <div class="file-picker-section">
        <!-- Left Side: File Picker -->
        <div class="picker-container">
          <div class="picker-header">
            <h4>Choose Files to Download</h4>
            <p>Select one or multiple assets from the Global release:</p>
            <div class="picker-controls">
              <div class="picker-controls-left">
                <button class="picker-control-btn" id="selectAllBtn">📋 Select All</button>
                <button class="picker-control-btn" id="clearAllBtn">🗑️ Clear All</button>
              </div>
              <span class="selection-count" id="selectionCount">0 files selected</span>
            </div>
          </div>

          <div class="file-picker" id="filePicker">
            <div class="file-option loading-placeholder">
              <div class="file-icon">📦</div>
              <div class="file-details">
                <div class="file-name">Loading assets...</div>
                <div class="file-meta">Please wait while we fetch available files</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Side: Selected Files Summary -->
        <div class="summary-container">
          <div class="summary-header-container">
            <h4 style="font-family: 'Orbitron', monospace; font-size: 1.1rem; color: #ed1c24; margin-bottom: 4px; text-shadow: 0 0 8px rgba(237, 28, 36, 0.5); text-align: center;">Selected Files</h4>
            <p style="font-family: 'Exo 2', sans-serif; font-size: 0.85rem; color: #8fa8b8; margin: 0 0 8px 0; text-align: center;">Review your selection:</p>
          </div>

          <div class="selected-files-summary" id="selectedFilesSummary">
            <div class="summary-header">
              <span class="summary-icon">📋</span>
              <span class="summary-title">Summary</span>
              <span class="summary-count" id="summaryCount">0 files</span>
            </div>
            <div class="summary-content" id="summaryContent">
              <div class="summary-placeholder">No files selected</div>
            </div>
            <div class="summary-totals" id="summaryTotals" style="display: none;">
              <div class="total-item">
                <span class="total-label">Total Size:</span>
                <span class="total-value" id="totalSize">0 MB</span>
              </div>
              <div class="total-item">
                <span class="total-label">Downloads:</span>
                <span class="total-value" id="totalDownloads">0</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Enhanced Button Layout -->
      <div class="confirm-button-layout">
        <div class="confirm-button-group left-confirm-buttons">
          <button class="confirm-button primary" id="continueButton">
            <span class="button-icon">✅</span>
            <span class="button-text">Continue Download</span>
          </button>
        </div>
        <div class="confirm-button-group right-confirm-buttons">
          <button class="confirm-button secondary" id="cancelButton">
            <span class="button-icon">❌</span>
            <span class="button-text">Cancel</span>
          </button>
        </div>
      </div>

      <!-- Hash Actions -->
      <div class="hash-actions" id="hashActions" style="display: none;">
        <button class="hash-action-btn" id="copyHashBtn">📋 Copy Hash Link</button>
        <button class="hash-action-btn" id="clearHashBtn">🗑️ Clear Hash</button>
      </div>
    </div>
  </div>

  <!-- Download Animation Screen -->
  <div class="download-screen" id="downloadScreen">
    <div class="download-animation">
      <div class="download-content">
        <div class="download-spinner"></div>
        <div class="download-text">DOWNLOADING KILL TRACKER</div>
        <div class="download-subtext">Preparing your Star Citizen experience...</div>
        <div class="download-progress-container">
          <div class="download-progress-bar" id="downloadProgressBar"></div>
        </div>
        <div class="download-percentage" id="downloadPercentage">0%</div>
      </div>
    </div>
  </div>

  <!-- Discord Join Animation Screen -->
  <div class="discord-screen" id="discordScreen">
    <div class="discord-animation">
      <div class="discord-logo-container">
        <div class="discord-rings">
          <div class="discord-ring"></div>
          <div class="discord-ring"></div>
          <div class="discord-ring"></div>
        </div>
        <div class="discord-logo">💬</div>
      </div>

      <div class="discord-text">JOIN THE VERSE</div>
      <div class="discord-subtext">
        Connect with fellow Star Citizens and stay updated on the latest kill tracking features, updates, and community events.
      </div>

      <div class="discord-features">
        <div class="discord-feature">
          <span class="discord-feature-icon">🚀</span>
          <div class="discord-feature-title">Live Updates</div>
          <div class="discord-feature-desc">Get notified about new features and releases</div>
        </div>
        <div class="discord-feature">
          <span class="discord-feature-icon">👥</span>
          <div class="discord-feature-title">Community</div>
          <div class="discord-feature-desc">Connect with other Star Citizen players</div>
        </div>
        <div class="discord-feature">
          <span class="discord-feature-icon">🛠️</span>
          <div class="discord-feature-title">Support</div>
          <div class="discord-feature-desc">Get help and share feedback</div>
        </div>
      </div>

      <div class="discord-countdown" id="discordCountdown">Redirecting in 5 seconds...</div>

      <div class="discord-buttons">
        <a href="https://discord.gg/jxfHnGQqj7" class="discord-join-btn" id="discordJoinBtn" target="_blank">
          🚀 Join Discord Now
        </a>
        <button class="discord-cancel-btn" id="discordCancelBtn">
          ✕ Cancel
        </button>
      </div>
    </div>
  </div>

  <!-- Donation Animation Screen -->
  <div class="donation-screen" id="donationScreen">
    <div class="donation-animation">
      <div class="donation-logo-container">
        <div class="donation-rings">
          <div class="donation-ring"></div>
          <div class="donation-ring"></div>
          <div class="donation-ring"></div>
        </div>
        <div class="donation-logo">💰</div>
      </div>

      <div class="donation-text">SUPPORT THE VERSE</div>
      <div class="donation-subtext">
        Help fund the development of SC Kill Tracker and keep the servers running. Your support enables new features and improvements for the Star Citizen community.
      </div>

      <div class="donation-options">
        <a href="https://ko-fi.com/sckilltracker" class="donation-option" target="_blank">
          <span class="donation-option-icon">☕</span>
          <div class="donation-option-title">Ko-fi</div>
          <div class="donation-option-desc">Buy me a coffee and support development</div>
        </a>

        <a href="https://patreon.com/SCKillTracker" class="donation-option" target="_blank">
          <span class="donation-option-icon">🎯</span>
          <div class="donation-option-title">Patreon</div>
          <div class="donation-option-desc">Monthly support with exclusive perks</div>
        </a>

        <a href="https://cash.app/$HarleyTGO" class="donation-option" target="_blank">
          <span class="donation-option-icon">💵</span>
          <div class="donation-option-title">Cash App</div>
          <div class="donation-option-desc">Direct support via Cash App</div>
        </a>

        <a href="https://www.robertsspaceindustries.com/enlist?referral=STAR-WRTW-C6LH" class="donation-option" target="_blank">
          <span class="donation-option-icon">🚀</span>
          <div class="donation-option-title">Join Star Citizen</div>
          <div class="donation-option-desc">New to SC? Use our referral code!</div>
        </a>
      </div>

      <button class="donation-close" id="donationCloseBtn">
        ✕ Close
      </button>
    </div>
  </div>

  <!-- Login Animation Screen -->
  <div class="login-screen" id="loginScreen">
    <div class="login-animation">
      <div class="login-container">
        <button class="login-close" id="loginCloseBtn">✕</button>

        <div class="login-header">
          <div class="login-logo">👤</div>
          <h2 class="login-title">ACCESS THE VERSE</h2>
          <p class="login-subtitle">Login to your SC Kill Tracker account</p>
          <div style="background: rgba(255, 149, 0, 0.1); border: 1px solid rgba(255, 149, 0, 0.3); border-radius: 8px; padding: 10px; margin-top: 10px; font-size: 0.8rem; color: #ff9500; text-align: center;">
            <strong>⚠️ MOCK SERVICE</strong><br>
            Demo Username: <code style="color: #ed1c24;">HarleyTG</code><br>
            Demo Password: <code style="color: #ed1c24;">Password</code>
          </div>
        </div>

        <form class="login-form" id="loginForm">
          <div class="form-group">
            <label class="form-label">Username or Email</label>
            <input type="text" class="form-input" id="usernameInput" placeholder="Enter your username or email" required>
          </div>

          <!-- Registration-only fields (hidden by default) -->
          <div class="form-group register-only" id="emailGroup" style="display: none;">
            <label class="form-label">Email Address</label>
            <input type="email" class="form-input" id="emailInput" placeholder="Enter your email address">
          </div>

          <div class="form-group register-only" id="orgGroup" style="display: none;">
            <label class="form-label">Organization (Optional)</label>
            <input type="text" class="form-input" id="orgInput" placeholder="e.g., Eclipse Legion">
          </div>

          <div class="form-group">
            <label class="form-label">Password</label>
            <input type="password" class="form-input" id="passwordInput" placeholder="Enter your password" required>
            <div class="show-password-container">
              <input type="checkbox" id="showPasswordCheck" class="show-password-checkbox" onchange="togglePasswordVisibility('passwordInput', this)">
              <label for="showPasswordCheck" class="show-password-label">Show Password</label>
            </div>
          </div>

          <div class="form-group register-only" id="confirmPasswordGroup" style="display: none;">
            <label class="form-label">Confirm Password</label>
            <input type="password" class="form-input" id="confirmPasswordInput" placeholder="Confirm your password">
            <div class="show-password-container">
              <input type="checkbox" id="showConfirmPasswordCheck" class="show-password-checkbox" onchange="togglePasswordVisibility('confirmPasswordInput', this)">
              <label for="showConfirmPasswordCheck" class="show-password-label">Show Password</label>
            </div>
          </div>

          <div class="login-buttons">
            <button type="submit" class="login-btn" id="submitBtn">🚀 Login</button>

            <div class="forgot-password-container">
              <button type="button" class="forgot-password-btn" id="forgotPasswordBtn">🔑 Forgot Password?</button>
            </div>

            <div class="login-divider">
              <span id="dividerText">or</span>
            </div>

            <button type="button" class="login-btn register-btn" id="toggleBtn">
              ⭐ Create New Account
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Media Viewer Overlay -->
  <div class="media-viewer" id="mediaViewer">
    <div class="media-viewer-content">
      <div id="mediaContainer"></div>
      <div class="media-viewer-controls">
        <button class="media-viewer-prev" id="prevMedia">‹</button>
        <span class="media-viewer-title" id="mediaTitle">Media Title</span>
        <span class="media-viewer-counter" id="mediaCounter">1 / 9</span>
        <button class="media-viewer-next" id="nextMedia">›</button>
        <button class="media-viewer-close" id="closeMediaViewer">✕</button>
      </div>
    </div>
  </div>

  <!-- Forgot Password Modal -->
  <div class="login-screen" id="forgotPasswordScreen" style="display: none;">
    <div class="login-animation">
      <div class="login-container" style="max-width: 450px;">
        <button class="login-close" id="forgotPasswordCloseBtn">✕</button>

        <div class="login-header">
          <div class="login-logo">🔑</div>
          <h2 class="login-title">RESET PASSWORD</h2>
          <p class="login-subtitle">Enter your email to receive reset instructions</p>
          <div style="background: rgba(255, 149, 0, 0.1); border: 1px solid rgba(255, 149, 0, 0.3); border-radius: 8px; padding: 10px; margin-top: 10px; font-size: 0.8rem; color: #ff9500; text-align: center;">
            <strong>⚠️ MOCK SERVICE</strong><br>
            This is a demonstration - no actual emails will be sent.
          </div>
        </div>

        <form class="login-form" id="forgotPasswordForm">
          <div class="form-group">
            <label class="form-label">Email Address</label>
            <input type="email" class="form-input" id="resetEmailInput" placeholder="Enter your email address" required>
          </div>

          <div class="login-buttons">
            <button type="submit" class="login-btn">📧 Send Reset Link</button>

            <div class="login-divider">
              <span>or</span>
            </div>

            <button type="button" class="login-btn register-btn" id="backToLoginBtn">
              🚀 Back to Login
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Loading screen functionality
    window.addEventListener('load', function() {
      const loadingBar = document.getElementById('loadingBar');
      const loadingText = document.getElementById('loadingText');

      const loadingSteps = [
        { progress: 20, text: 'Loading Core Systems...' },
        { progress: 40, text: 'Connecting to Network...' },
        { progress: 60, text: 'Initializing Combat Tracking...' },
        { progress: 80, text: 'Loading User Interface...' },
        { progress: 100, text: 'Ready!' }
      ];

      let currentStep = 0;

      function updateLoading() {
        if (currentStep < loadingSteps.length) {
          const step = loadingSteps[currentStep];
          loadingBar.style.width = step.progress + '%';
          loadingText.textContent = step.text;
          currentStep++;

          setTimeout(updateLoading, 300);
        } else {
          setTimeout(function() {
            const loadingScreen = document.getElementById('loadingScreen');
            loadingScreen.style.opacity = '0';
            setTimeout(function() {
              loadingScreen.style.display = 'none';
            }, 500);
          }, 500);
        }
      }

      // Start loading animation after a brief delay
      setTimeout(updateLoading, 200);
    });

    // Custom Notification System
    function showNotification(options) {
      const {
        title = 'SC Kill Tracker',
        message = '',
        details = '',
        type = 'info', // info, success, warning, error
        duration = 5000,
        actions = []
      } = options;

      const container = document.getElementById('notificationContainer');
      const notificationId = 'notification-' + Date.now();

      // Create notification element
      const notification = document.createElement('div');
      notification.className = `custom-notification ${type}`;
      notification.id = notificationId;

      // Determine icon based on type
      let icon = '🛡️'; // Default SC Kill Tracker icon

      switch(type) {
        case 'success':
          icon = '✅';
          break;
        case 'warning':
          icon = '⚠️';
          break;
        case 'error':
          icon = '❌';
          break;
        case 'info':
          icon = 'ℹ️';
          break;
      }

      // Build notification HTML
      let actionsHTML = '';
      if (actions.length > 0) {
        actionsHTML = '<div class="notification-actions">';
        actions.forEach(action => {
          actionsHTML += `<button class="notification-btn ${action.type || 'secondary'}" onclick="${action.onclick}">${action.text}</button>`;
        });
        actionsHTML += '</div>';
      }

      notification.innerHTML = `
        <div class="notification-header">
          <div class="notification-logo">${icon}</div>
          <div class="notification-title">${title}</div>
          <button class="notification-close" onclick="closeNotification('${notificationId}')">✕</button>
        </div>
        <div class="notification-content">${message}</div>
        ${details ? `<div class="notification-details">${details}</div>` : ''}
        ${actionsHTML}
        <div class="notification-progress" style="width: 100%"></div>
      `;

      container.appendChild(notification);

      // Animate in
      setTimeout(() => {
        notification.classList.add('show');
      }, 100);

      // Auto-close with progress bar
      if (duration > 0) {
        const progressBar = notification.querySelector('.notification-progress');
        let width = 100;
        const interval = setInterval(() => {
          width -= (100 / (duration / 100));
          progressBar.style.width = width + '%';

          if (width <= 0) {
            clearInterval(interval);
            closeNotification(notificationId);
          }
        }, 100);

        // Store interval for manual close
        notification.dataset.interval = interval;
      }

      return notificationId;
    }

    function closeNotification(notificationId) {
      const notification = document.getElementById(notificationId);
      if (notification) {
        // Clear auto-close interval if exists
        if (notification.dataset.interval) {
          clearInterval(notification.dataset.interval);
        }

        notification.classList.remove('show');
        setTimeout(() => {
          if (notification.parentNode) {
            notification.parentNode.removeChild(notification);
          }
        }, 400);
      }
    }

    // Media Viewer Functionality
    let currentMediaIndex = 0;
    let mediaItems = [];

    document.addEventListener('DOMContentLoaded', function() {
      // Add subtle glow effect on container hover
      const container = document.querySelector('.container');
      container.addEventListener('mouseenter', function() {
        container.style.boxShadow = '0 0 40px rgba(237, 28, 36, 0.5), 0 25px 50px rgba(0, 0, 0, 0.7)';
      });

      container.addEventListener('mouseleave', function() {
        container.style.boxShadow = '0 0 30px rgba(237, 28, 36, 0.3), 0 20px 40px rgba(0, 0, 0, 0.6)';
      });

      // Initialize media viewer
      initializeMediaViewer();
    });

    function initializeMediaViewer() {
      const mediaGallery = document.querySelector('.media-gallery');
      const mediaViewer = document.getElementById('mediaViewer');
      const mediaContainer = document.getElementById('mediaContainer');
      const mediaTitle = document.getElementById('mediaTitle');
      const mediaCounter = document.getElementById('mediaCounter');
      const closeBtn = document.getElementById('closeMediaViewer');
      const prevBtn = document.getElementById('prevMedia');
      const nextBtn = document.getElementById('nextMedia');

      // Collect all media items
      mediaItems = Array.from(mediaGallery.querySelectorAll('img, video'));

      // Add click listeners to media items
      mediaItems.forEach((item, index) => {
        item.addEventListener('click', () => openMediaViewer(index));
      });

      // Close viewer
      closeBtn.addEventListener('click', closeMediaViewer);
      mediaViewer.addEventListener('click', (e) => {
        if (e.target === mediaViewer) closeMediaViewer();
      });

      // Navigation
      prevBtn.addEventListener('click', showPreviousMedia);
      nextBtn.addEventListener('click', showNextMedia);

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (mediaViewer.style.display === 'flex') {
          switch(e.key) {
            case 'Escape':
              closeMediaViewer();
              break;
            case 'ArrowLeft':
              showPreviousMedia();
              break;
            case 'ArrowRight':
              showNextMedia();
              break;
          }
        }
      });
    }

    function openMediaViewer(index) {
      currentMediaIndex = index;
      const mediaViewer = document.getElementById('mediaViewer');
      mediaViewer.style.display = 'flex';
      document.body.style.overflow = 'hidden';
      showCurrentMedia();
    }

    function closeMediaViewer() {
      const mediaViewer = document.getElementById('mediaViewer');
      const mediaContainer = document.getElementById('mediaContainer');
      mediaViewer.style.display = 'none';
      document.body.style.overflow = 'auto';

      // Stop any playing videos
      const video = mediaContainer.querySelector('video');
      if (video) {
        video.pause();
      }
    }

    function showCurrentMedia() {
      const mediaContainer = document.getElementById('mediaContainer');
      const mediaTitle = document.getElementById('mediaTitle');
      const mediaCounter = document.getElementById('mediaCounter');
      const currentItem = mediaItems[currentMediaIndex];

      // Clear container
      mediaContainer.innerHTML = '';

      // Create new media element
      let mediaElement;
      if (currentItem.tagName === 'VIDEO') {
        mediaElement = document.createElement('video');
        mediaElement.src = currentItem.src;
        mediaElement.controls = true;
        mediaElement.autoplay = false;
      } else {
        mediaElement = document.createElement('img');
        mediaElement.src = currentItem.src;
        mediaElement.alt = currentItem.alt;
      }

      mediaContainer.appendChild(mediaElement);

      // Update title and counter
      const title = currentItem.alt || currentItem.src.split('/').pop().split('.')[0];
      mediaTitle.textContent = title.charAt(0).toUpperCase() + title.slice(1);
      mediaCounter.textContent = `${currentMediaIndex + 1} / ${mediaItems.length}`;
    }

    function showPreviousMedia() {
      currentMediaIndex = (currentMediaIndex - 1 + mediaItems.length) % mediaItems.length;
      showCurrentMedia();
    }

    function showNextMedia() {
      currentMediaIndex = (currentMediaIndex + 1) % mediaItems.length;
      showCurrentMedia();
    }

    function showLegalOverlay(type) {
      // Hide any other overlays first
      hideAllOverlays();

      const overlay = document.getElementById("legalOverlay");
      const title = document.getElementById("legalOverlayTitle");
      const text = document.getElementById("legalOverlayText");
      let url = "";

      if (type === "tos") {
        title.textContent = "Terms of Service";
        url = "https://raw.githubusercontent.com/HarleyTG-O/sc-killfeed/main/tos-sckt.md";
      } else if (type === "privacy") {
        title.textContent = "Privacy Policy";
        url = "https://raw.githubusercontent.com/HarleyTG-O/sc-killfeed/main/privacy-sckt.md";
      } else if (type === "eula") {
        title.textContent = "End User License Agreement";
        url = "https://raw.githubusercontent.com/HarleyTG-O/sc-killfeed/main/EULA.md";
      }

      // Show loading state
      text.innerHTML = '<div style="text-align: center; padding: 40px;"><div class="loading-spinner" style="margin: 0 auto;"></div><p style="margin-top: 20px; color: #8fa8b8;">Loading document...</p></div>';
      overlay.style.display = "flex";
      overlay.style.zIndex = "10000";
      document.body.style.overflow = "hidden";

      fetch(url)
        .then(res => res.ok ? res.text() : Promise.reject("Failed to load"))
        .then(data => {
          // Enhanced markdown-to-HTML conversion
          let htmlContent = data
            .replace(/^# (.*$)/gim, '<h1>$1</h1>')
            .replace(/^## (.*$)/gim, '<h2>$1</h2>')
            .replace(/^### (.*$)/gim, '<h3>$1</h3>')
            .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
            .replace(/\*(.*?)\*/g, '<em>$1</em>')
            .replace(/`(.*?)`/g, '<code>$1</code>')
            .replace(/^\* (.*$)/gim, '<li>$1</li>')
            .replace(/^(\d+)\. (.*$)/gim, '<li>$1. $2</li>')
            .replace(/\n\n/g, '</p><p>')
            .replace(/^(?!<[h|l|p])/gm, '<p>')
            .replace(/(<li>.*<\/li>)/gs, '<ul>$1</ul>')
            .replace(/<\/p><p><ul>/g, '<ul>')
            .replace(/<\/ul><p>/g, '</ul>')
            .replace(/<p><\/p>/g, '');

          text.innerHTML = htmlContent;
          // Scroll to top of content
          text.scrollTop = 0;
        })
        .catch(() => {
          text.innerHTML = '<div style="text-align: center; padding: 40px;"><p style="color: #ff6b6b; font-size: 1.1rem; margin-bottom: 15px;">⚠️ Unable to load document</p><p style="color: #8fa8b8;">Please check your internet connection and try again later.</p></div>';
        });
    }

    function hideLegalOverlay() {
      const overlay = document.getElementById("legalOverlay");
      overlay.style.opacity = "0";

      setTimeout(() => {
        overlay.style.display = "none";
        overlay.style.opacity = "1";
        document.body.style.overflow = "auto";
      }, 300);
    }

    // Enhanced Download Confirmation Logic
    const exitOverlay = document.getElementById("exitOverlay");
    const downloadButton = document.getElementById("downloadButton");
    const continueButton = document.getElementById("continueButton");
    const cancelButton = document.getElementById("cancelButton");
    const hashInfoDisplay = document.getElementById("hashInfoDisplay");
    const hashInfoDetails = document.getElementById("hashInfoDetails");
    const hashActions = document.getElementById("hashActions");
    const downloadVersion = document.getElementById("downloadVersion");

    function showOverlay() {
      // Hide any other overlays first
      hideAllOverlays();

      exitOverlay.style.display = "flex";
      exitOverlay.style.zIndex = "10000";
      document.body.style.overflow = "hidden";

      // Check for hash parameters
      checkHashParameters();

      // Update version info
      updateVersionInfo();
    }

    function checkHashParameters() {
      const hash = window.location.hash.substring(1);

      if (hash) {
        const params = new URLSearchParams(hash);
        const action = params.get('action');
        const data = params.get('data');
        const source = params.get('source');
        const timestamp = params.get('timestamp');

        if (action || data || source) {
          let details = '';
          if (action) details += `Action: <strong>${action}</strong><br>`;
          if (data) details += `Data: <strong>${data}</strong><br>`;
          if (source) details += `Source: <strong>${source}</strong><br>`;
          if (timestamp) {
            const date = new Date(parseInt(timestamp));
            details += `Timestamp: <strong>${date.toLocaleString()}</strong><br>`;
          }
          details += `Hash: <code style="color: #0096ff;">#${hash}</code>`;

          hashInfoDetails.innerHTML = details;
          hashInfoDisplay.style.display = 'flex';
          hashActions.style.display = 'flex';

          console.log('Hash parameters detected in download confirmation:', { action, data, source, timestamp });
        }
      } else {
        hashInfoDisplay.style.display = 'none';
        hashActions.style.display = 'none';
      }
    }

    function updateVersionInfo() {
      // Fetch real version and size from GitHub API
      fetchGitHubReleaseInfo();
    }

    function fetchGitHubReleaseInfo() {
      console.log('🚀 Starting GitHub API fetch for file picker...');

      // GitHub API endpoint for the specific "Global" tag release
      fetch('https://api.github.com/repos/HarleyTG-O/sc-killfeed/releases/tags/Global')
        .then(response => {
          console.log('📡 GitHub API response status:', response.status);
          if (!response.ok) {
            console.log('⚠️ Global tag not found, falling back to latest release');
            // Fallback to latest release if Global tag doesn't exist
            return fetch('https://api.github.com/repos/HarleyTG-O/sc-killfeed/releases/latest');
          }
          return response;
        })
        .then(response => {
          console.log('📡 Final response status:', response.status);
          if (!response.ok) throw new Error(`GitHub API request failed with status ${response.status}`);
          return response.json();
        })
        .then(data => {
          console.log('✅ GitHub API data received:', data);
          console.log('📦 Assets found:', data.assets ? data.assets.length : 0);

          // Populate file picker with assets
          if (data.assets && data.assets.length > 0) {
            console.log('🎯 Populating file picker with', data.assets.length, 'assets');
            populateFilePicker(data.assets);
          } else {
            console.error('❌ No assets found in release');
            showFilePickerError('No assets found in the release');
          }

          console.log('📋 GitHub Global release info:', {
            version: data.tag_name,
            totalAssets: data.assets ? data.assets.length : 0,
            allAssets: data.assets ? data.assets.map(a => ({
              name: a.name,
              size: `${(a.size / (1024 * 1024)).toFixed(1)} MB`,
              downloads: a.download_count,
              url: a.browser_download_url
            })) : []
          });
        })
        .catch(error => {
          console.error('❌ Failed to fetch GitHub Global release info:', error);
          console.log('🔄 Using fallback mock data for demonstration');

          // Use mock data as fallback
          const mockAssets = [
            {
              id: 1,
              name: 'SCKillTrac.Global.zip',
              size: 40082485,
              download_count: 1247,
              browser_download_url: 'https://github.com/HarleyTG-O/sc-killfeed/releases/download/Global/SCKillTrac.Global.zip',
              updated_at: new Date(Date.now() - 11 * 60 * 60 * 1000).toISOString() // 11 hours ago
            },
            {
              id: 2,
              name: 'startup_args.txt',
              size: 105,
              download_count: 892,
              browser_download_url: 'https://github.com/HarleyTG-O/sc-killfeed/releases/download/Global/startup_args.txt',
              updated_at: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString() // 2 days ago
            },
            {
              id: 3,
              name: 'Welcome-SCKillTrac.txt',
              size: 1556,
              download_count: 634,
              browser_download_url: 'https://github.com/HarleyTG-O/sc-killfeed/releases/download/Global/Welcome-SCKillTrac.txt',
              updated_at: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString() // 2 days ago
            }
          ];

          populateFilePicker(mockAssets);
        });
    }

    // Global variables for multi-selection
    let selectedAssets = [];
    let allAssets = [];

    function populateFilePicker(assets) {
      console.log('🎯 populateFilePicker called with:', assets);
      const filePicker = document.getElementById('filePicker');

      if (!filePicker) {
        console.error('❌ File picker element not found!');
        return;
      }

      if (!assets || assets.length === 0) {
        console.log('⚠️ No assets provided to file picker');
        filePicker.innerHTML = `
          <div class="file-option loading-placeholder">
            <div class="file-icon">❌</div>
            <div class="file-details">
              <div class="file-name">No files found</div>
              <div class="file-meta">No assets available in this release</div>
            </div>
          </div>
        `;
        return;
      }

      console.log('✅ Creating file options for', assets.length, 'assets');

      // Clear loading placeholder
      filePicker.innerHTML = '';

      // Store all assets globally
      allAssets = assets;
      selectedAssets = [];

      // Create file options for each asset
      assets.forEach((asset, index) => {
        console.log(`📄 Creating option ${index + 1}:`, asset.name);
        const fileOption = createFileOption(asset, false); // Don't auto-select
        filePicker.appendChild(fileOption);
      });

      // Auto-select the first file (usually SCKillTrac.Global.zip)
      if (assets.length > 0) {
        console.log('🎯 Auto-selecting first file:', assets[0].name);
        toggleFileSelection(assets[0]);
      }

      // Initialize control buttons
      initializeControlButtons();
    }

    function createFileOption(asset, isDefault = false) {
      const fileOption = document.createElement('div');
      fileOption.className = `file-option ${isDefault ? 'selected' : ''}`;
      fileOption.dataset.assetId = asset.id;

      // Determine file icon based on file type
      const fileIcon = getFileIcon(asset.name);

      // Format file size
      const sizeInMB = (asset.size / (1024 * 1024)).toFixed(1);
      const sizeInBytes = asset.size.toLocaleString();

      // Format upload time
      const uploadTime = getRelativeTime(asset.updated_at);

      fileOption.innerHTML = `
        <div class="file-icon">${fileIcon}</div>
        <div class="file-details">
          <div class="file-name">${asset.name}</div>
          <div class="file-meta">
            <span class="file-size">${sizeInMB} MB</span> (${sizeInBytes} bytes) •
            <span class="file-downloads">${asset.download_count.toLocaleString()} downloads</span> •
            ${uploadTime}
            <br>
            <span class="file-hash">SHA256: ${getAssetHash(asset.name)}</span>
          </div>
        </div>
      `;

      fileOption.addEventListener('click', () => {
        // Toggle selection for this file
        toggleFileSelection(asset);
      });

      return fileOption;
    }

    function getFileIcon(filename) {
      const ext = filename.split('.').pop().toLowerCase();
      switch(ext) {
        case 'zip': return '📦';
        case 'txt': return '📄';
        case 'exe': return '⚙️';
        case 'dll': return '🔧';
        default: return '📁';
      }
    }

    function getAssetHash(filename) {
      // Known hashes for the files you provided
      const hashes = {
        'SCKillTrac.Global.zip': 'c3828ccb0913de9636ce4969a56fc47f3882486b38015cc9393646cf24f3bc71',
        'startup_args.txt': '8ef237572a6b25eaded292aeddf2725c4f60a9a63c74dbd97ab62ad5857ac317',
        'Welcome-SCKillTrac.txt': 'f5bd91c2dd7385ff25d3561eca576beee170aa17aae693d7b73a388da61e81ee'
      };
      return hashes[filename] || 'Not available';
    }

    function getRelativeTime(dateString) {
      const date = new Date(dateString);
      const now = new Date();
      const diffInHours = Math.floor((now - date) / (1000 * 60 * 60));

      if (diffInHours < 1) return 'Less than an hour ago';
      if (diffInHours < 24) return `${diffInHours} hour${diffInHours !== 1 ? 's' : ''} ago`;

      const diffInDays = Math.floor(diffInHours / 24);
      if (diffInDays < 7) return `${diffInDays} day${diffInDays !== 1 ? 's' : ''} ago`;

      return date.toLocaleDateString();
    }

    function toggleFileSelection(asset) {
      const index = selectedAssets.findIndex(selected => selected.id === asset.id);

      if (index > -1) {
        // Remove from selection
        selectedAssets.splice(index, 1);
        console.log('🗑️ Removed from selection:', asset.name);
      } else {
        // Add to selection
        selectedAssets.push(asset);
        console.log('✅ Added to selection:', asset.name);
      }

      // Update UI
      updateFileOptionUI(asset);
      updateSelectionSummary();
      updateSelectionCount();
    }

    function updateFileOptionUI(asset) {
      const fileOption = document.querySelector(`[data-asset-id="${asset.id}"]`);
      if (fileOption) {
        const isSelected = selectedAssets.some(selected => selected.id === asset.id);
        fileOption.classList.toggle('selected', isSelected);
      }
    }

    function updateSelectionCount() {
      const selectionCount = document.getElementById('selectionCount');
      if (selectionCount) {
        const count = selectedAssets.length;
        selectionCount.textContent = `${count} file${count !== 1 ? 's' : ''} selected`;
      }
    }

    function updateSelectionSummary() {
      const selectedFilesSummary = document.getElementById('selectedFilesSummary');
      const summaryCount = document.getElementById('summaryCount');
      const summaryContent = document.getElementById('summaryContent');
      const summaryTotals = document.getElementById('summaryTotals');
      const totalSize = document.getElementById('totalSize');
      const totalDownloads = document.getElementById('totalDownloads');

      if (!selectedFilesSummary) return;

      if (selectedAssets.length === 0) {
        selectedFilesSummary.style.display = 'none';
        return;
      }

      // Show summary
      selectedFilesSummary.style.display = 'block';
      summaryCount.textContent = `${selectedAssets.length} file${selectedAssets.length !== 1 ? 's' : ''}`;

      // Create file items
      summaryContent.innerHTML = '';
      selectedAssets.forEach(asset => {
        const fileItem = document.createElement('div');
        fileItem.className = 'summary-file-item';
        fileItem.innerHTML = `
          <div class="summary-file-icon">${getFileIcon(asset.name)}</div>
          <div class="summary-file-name">${asset.name}</div>
          <div class="summary-file-size">${(asset.size / (1024 * 1024)).toFixed(1)} MB</div>
        `;
        summaryContent.appendChild(fileItem);
      });

      // Calculate totals
      const totalSizeBytes = selectedAssets.reduce((sum, asset) => sum + asset.size, 0);
      const totalDownloadCount = selectedAssets.reduce((sum, asset) => sum + asset.download_count, 0);

      totalSize.textContent = `${(totalSizeBytes / (1024 * 1024)).toFixed(1)} MB`;
      totalDownloads.textContent = totalDownloadCount.toLocaleString();
      summaryTotals.style.display = 'flex';
    }

    function initializeControlButtons() {
      const selectAllBtn = document.getElementById('selectAllBtn');
      const clearAllBtn = document.getElementById('clearAllBtn');

      if (selectAllBtn) {
        selectAllBtn.addEventListener('click', () => {
          console.log('📋 Selecting all files');
          selectedAssets = [...allAssets];

          // Update all file option UIs
          allAssets.forEach(asset => updateFileOptionUI(asset));
          updateSelectionSummary();
          updateSelectionCount();
        });
      }

      if (clearAllBtn) {
        clearAllBtn.addEventListener('click', () => {
          console.log('🗑️ Clearing all selections');
          selectedAssets = [];

          // Update all file option UIs
          allAssets.forEach(asset => updateFileOptionUI(asset));
          updateSelectionSummary();
          updateSelectionCount();
        });
      }
    }

    function showFilePickerError(customMessage = null) {
      console.log('🚨 Showing file picker error:', customMessage);
      const filePicker = document.getElementById('filePicker');

      if (!filePicker) {
        console.error('❌ File picker element not found!');
        return;
      }

      const errorMessage = customMessage || 'Unable to fetch assets from GitHub. Please try again later.';

      filePicker.innerHTML = `
        <div class="file-option loading-placeholder">
          <div class="file-icon">❌</div>
          <div class="file-details">
            <div class="file-name">Failed to load files</div>
            <div class="file-meta">${errorMessage}</div>
          </div>
        </div>
      `;
    }



    // Only override default if the button exists
    if (downloadButton) {
      downloadButton.addEventListener("click", function (e) {
        e.preventDefault();
        showOverlay();
      });
    }

    if (continueButton) {
      continueButton.addEventListener("click", function () {
        // Hide the confirmation overlay
        exitOverlay.style.display = "none";
        document.body.style.overflow = "auto";

        // Show download animation
        showDownloadAnimation();

        // Start the actual downloads after a short delay
        setTimeout(() => {
          if (selectedAssets && selectedAssets.length > 0) {
            console.log(`🚀 Starting download of ${selectedAssets.length} file(s)`);

            // Download each selected file with a small delay between downloads
            selectedAssets.forEach((asset, index) => {
              setTimeout(() => {
                console.log(`📥 Downloading file ${index + 1}/${selectedAssets.length}:`, asset.name);

                // Create a temporary link to trigger download
                const link = document.createElement('a');
                link.href = asset.browser_download_url;
                link.download = asset.name;
                link.style.display = 'none';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
              }, index * 1000); // 1 second delay between downloads
            });
          } else {
            // Fallback to default download
            window.location.href = downloadButton.href;
            console.log('No files selected, using default download');
          }
        }, 500);
      });
    }

    if (cancelButton) {
      cancelButton.addEventListener("click", function () {
        exitOverlay.style.display = "none";
        document.body.style.overflow = "auto";
      });
    }

    // Hash Action Buttons
    document.addEventListener('DOMContentLoaded', function() {
      const copyHashBtn = document.getElementById('copyHashBtn');
      const clearHashBtn = document.getElementById('clearHashBtn');

      if (copyHashBtn) {
        copyHashBtn.addEventListener('click', function() {
          const currentUrl = window.location.href;
          navigator.clipboard.writeText(currentUrl).then(() => {
            showNotification('Hash link copied to clipboard!', 'success');
          }).catch(() => {
            showNotification('Failed to copy hash link', 'error');
          });
        });
      }

      if (clearHashBtn) {
        clearHashBtn.addEventListener('click', function() {
          history.replaceState(null, null, window.location.pathname);
          if (hashInfoDisplay) hashInfoDisplay.style.display = 'none';
          if (hashActions) hashActions.style.display = 'none';
          showNotification('Hash parameters cleared', 'info');
        });
      }
    });

    // Notification system for hash actions
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      const colors = {
        success: 'rgba(40, 167, 69, 0.9)',
        error: 'rgba(220, 53, 69, 0.9)',
        info: 'rgba(0, 150, 255, 0.9)'
      };

      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${colors[type] || colors.info};
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        font-family: 'Exo 2', sans-serif;
        font-size: 0.9rem;
        z-index: 10002;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        animation: slideInRight 0.3s ease;
        max-width: 300px;
      `;

      notification.textContent = message;
      document.body.appendChild(notification);

      // Auto-remove after 3 seconds
      setTimeout(() => {
        notification.style.animation = 'slideOutRight 0.3s ease';
        setTimeout(() => {
          if (notification.parentNode) {
            document.body.removeChild(notification);
          }
        }, 300);
      }, 3000);
    }

    // Add CSS for notifications
    if (!document.getElementById('notificationStyles')) {
      const style = document.createElement('style');
      style.id = 'notificationStyles';
      style.textContent = `
        @keyframes slideInRight {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOutRight {
          from { transform: translateX(0); opacity: 1; }
          to { transform: translateX(100%); opacity: 0; }
        }
      `;
      document.head.appendChild(style);
    }

    // Fetch and display version in header and status info
    fetch('https://raw.githubusercontent.com/HarleyTG-O/sc-killfeed/main/client.json')
      .then(response => {
        if (!response.ok) throw new Error('Network response was not ok');
        return response.json();
      })
      .then(data => {
        // Version in header
        const versionSpan = document.getElementById('version');
        if (versionSpan) {
          if (data.version) {
            versionSpan.textContent = data.version;
          } else {
            versionSpan.textContent = '(version info unavailable)';
          }
        }

        // Status area
        const statusDiv = document.getElementById('statusList');
        if (statusDiv) {
          const disableClient = data.disable_client === true ? 'Yes' : 'No';
          const mandatoryUpdate = data.mandatory_update === true ? 'Yes' : 'No';
          const version = data.version || 'Unknown';

          statusDiv.innerHTML =
            `<div class="status-item">
              <span class="status-label">Server Status:</span>
              <span class="status-value">
                <div class="server-status-container">
                  <div class="server-status-main">
                    <span class="status-indicator offline">🔴</span>
                    <span class="status-text offline">Offline</span>
                  </div>
                  <div class="server-status-note">Under Construction / Development</div>
                </div>
              </span>
            </div>
            <div class="status-item">
              <span class="status-label">Client Status:</span>
              <span class="status-value">
                <span class="status-indicator online">🟢</span>
                <span class="status-text online">Working</span>
              </span>
            </div>
            <div class="status-item">
              <span class="status-label">Disable Client:</span>
              <span class="status-value">${disableClient}</span>
            </div>
            <div class="status-item">
              <span class="status-label">Current Version:</span>
              <span class="status-value">${version}</span>
            </div>`;
        }
      })
      .catch(() => {
        const versionSpan = document.getElementById('version');
        if (versionSpan) versionSpan.textContent = '(failed to load version)';
        const statusDiv = document.getElementById('statusList');
        if (statusDiv) statusDiv.innerHTML = `
          <div class="status-item">
            <span class="status-label">Server Status:</span>
            <span class="status-value">
              <div class="server-status-container">
                <div class="server-status-main">
                  <span class="status-indicator offline">🔴</span>
                  <span class="status-text offline">Offline</span>
                </div>
                <div class="server-status-note">Under Construction / Development</div>
              </div>
            </span>
          </div>
          <div class="status-item">
            <span class="status-label">Client Status:</span>
            <span class="status-value">
              <span class="status-indicator online">🟢</span>
              <span class="status-text online">Working</span>
            </span>
          </div>
          <div class="status-item">
            <span class="status-label">Status:</span>
            <span class="status-value" style="color: #ff6b6b;">Failed to load information</span>
          </div>
        `;
      });

    // Utility function to hide all overlays
    function hideAllOverlays() {
      const overlays = [
        'legalOverlay',
        'exitOverlay',
        'downloadScreen',
        'discordScreen',
        'donationScreen',
        'loginScreen'
      ];

      overlays.forEach(overlayId => {
        const overlay = document.getElementById(overlayId);
        if (overlay && overlay.style.display === 'flex') {
          overlay.style.display = 'none';
        }
      });

      // Reset body overflow
      document.body.style.overflow = 'auto';
    }

    // Download Animation Functions
    function showDownloadAnimation() {
      // Hide any other overlays first
      hideAllOverlays();

      const downloadScreen = document.getElementById('downloadScreen');
      const progressBar = document.getElementById('downloadProgressBar');
      const percentage = document.getElementById('downloadPercentage');

      downloadScreen.style.display = 'flex';
      downloadScreen.style.zIndex = '10002';
      document.body.style.overflow = 'hidden';

      // Animate progress bar
      let progress = 0;
      const progressInterval = setInterval(() => {
        progress += Math.random() * 15 + 5; // Random increment between 5-20%

        if (progress >= 100) {
          progress = 100;
          clearInterval(progressInterval);

          // Complete animation and hide after a moment
          setTimeout(() => {
            hideDownloadAnimation();
          }, 1000);
        }

        progressBar.style.width = progress + '%';
        percentage.textContent = Math.floor(progress) + '%';

        // Update text based on progress
        const downloadText = document.querySelector('.download-text');
        const downloadSubtext = document.querySelector('.download-subtext');

        if (progress < 30) {
          downloadText.textContent = 'INITIALIZING DOWNLOAD';
          downloadSubtext.textContent = 'Connecting to secure servers...';
        } else if (progress < 60) {
          downloadText.textContent = 'DOWNLOADING KILL TRACKER';
          downloadSubtext.textContent = 'Transferring files securely...';
        } else if (progress < 90) {
          downloadText.textContent = 'FINALIZING DOWNLOAD';
          downloadSubtext.textContent = 'Preparing installation package...';
        } else {
          downloadText.textContent = 'DOWNLOAD COMPLETE';
          downloadSubtext.textContent = 'Ready for installation!';
        }
      }, 200 + Math.random() * 300); // Random interval between 200-500ms
    }

    function hideDownloadAnimation() {
      const downloadScreen = document.getElementById('downloadScreen');
      downloadScreen.style.opacity = '0';

      setTimeout(() => {
        downloadScreen.style.display = 'none';
        downloadScreen.style.opacity = '1';
        document.body.style.overflow = 'auto';

        // Reset progress for next time
        const progressBar = document.getElementById('downloadProgressBar');
        const percentage = document.getElementById('downloadPercentage');
        progressBar.style.width = '0%';
        percentage.textContent = '0%';

        // Reset text
        const downloadText = document.querySelector('.download-text');
        const downloadSubtext = document.querySelector('.download-subtext');
        downloadText.textContent = 'DOWNLOADING KILL TRACKER';
        downloadSubtext.textContent = 'Preparing your Star Citizen experience...';
      }, 500);
    }

    // Discord Animation Functions
    let discordCountdownTimer;

    function showDiscordAnimation() {
      // Hide any other overlays first
      hideAllOverlays();

      const discordScreen = document.getElementById('discordScreen');
      const countdownElement = document.getElementById('discordCountdown');

      discordScreen.style.display = 'flex';
      discordScreen.style.zIndex = '10003';
      document.body.style.overflow = 'hidden';

      // Start countdown
      let countdown = 5;
      countdownElement.textContent = `Redirecting in ${countdown} seconds...`;

      discordCountdownTimer = setInterval(() => {
        countdown--;
        if (countdown > 0) {
          countdownElement.textContent = `Redirecting in ${countdown} seconds...`;
        } else {
          countdownElement.textContent = 'Opening Discord...';
          clearInterval(discordCountdownTimer);

          // Auto-redirect after countdown
          setTimeout(() => {
            window.open('https://discord.gg/jxfHnGQqj7', '_blank');
            hideDiscordAnimation();
          }, 1000);
        }
      }, 1000);
    }

    function hideDiscordAnimation() {
      const discordScreen = document.getElementById('discordScreen');

      if (discordCountdownTimer) {
        clearInterval(discordCountdownTimer);
      }

      discordScreen.style.opacity = '0';

      setTimeout(() => {
        discordScreen.style.display = 'none';
        discordScreen.style.opacity = '1';
        document.body.style.overflow = 'auto';

        // Reset countdown
        const countdownElement = document.getElementById('discordCountdown');
        countdownElement.textContent = 'Redirecting in 5 seconds...';
      }, 500);
    }

    // Discord button event listeners
    document.addEventListener('DOMContentLoaded', function() {
      const discordButton = document.getElementById('discordButton');
      const discordJoinBtn = document.getElementById('discordJoinBtn');
      const discordCancelBtn = document.getElementById('discordCancelBtn');

      if (discordButton) {
        discordButton.addEventListener('click', function(e) {
          e.preventDefault();
          showDiscordAnimation();
        });
      }

      if (discordJoinBtn) {
        discordJoinBtn.addEventListener('click', function() {
          // Clear the countdown since user clicked manually
          if (discordCountdownTimer) {
            clearInterval(discordCountdownTimer);
          }
          hideDiscordAnimation();
          // Link will open naturally due to target="_blank"
        });
      }

      if (discordCancelBtn) {
        discordCancelBtn.addEventListener('click', function() {
          hideDiscordAnimation();
        });
      }

      // Close on escape key and prevent background bypass
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          const discordScreen = document.getElementById('discordScreen');
          const donationScreen = document.getElementById('donationScreen');
          const legalOverlay = document.getElementById('legalOverlay');
          const exitOverlay = document.getElementById('exitOverlay');

          if (discordScreen.style.display === 'flex') {
            hideDiscordAnimation();
          }
          if (donationScreen.style.display === 'flex') {
            hideDonationAnimation();
          }
          if (legalOverlay.style.display === 'flex') {
            hideLegalOverlay();
          }
          if (exitOverlay.style.display === 'flex') {
            exitOverlay.style.display = 'none';
          }
        }
      });

      // Prevent background bypass on all overlays
      function preventBackgroundBypass(overlayId, contentClass) {
        const overlay = document.getElementById(overlayId);
        if (overlay) {
          overlay.addEventListener('click', function(e) {
            // Only close if clicking the overlay background, not the content
            if (e.target === overlay) {
              // Don't allow background bypass - do nothing
              e.preventDefault();
              e.stopPropagation();
            }
          });
        }
      }

      // Apply background bypass prevention to all overlays
      preventBackgroundBypass('legalOverlay', 'overlay-content');
      preventBackgroundBypass('exitOverlay', 'overlay-content');
      preventBackgroundBypass('discordScreen', 'discord-animation');
      preventBackgroundBypass('donationScreen', 'donation-animation');
      preventBackgroundBypass('downloadScreen', 'download-animation');
      preventBackgroundBypass('loginScreen', 'login-container');
    });

    // Donation Animation Functions
    function showDonationAnimation() {
      // Hide any other overlays first
      hideAllOverlays();

      const donationScreen = document.getElementById('donationScreen');
      donationScreen.style.display = 'flex';
      donationScreen.style.zIndex = '10004';
      document.body.style.overflow = 'hidden';
    }

    function hideDonationAnimation() {
      const donationScreen = document.getElementById('donationScreen');
      donationScreen.style.opacity = '0';

      setTimeout(() => {
        donationScreen.style.display = 'none';
        donationScreen.style.opacity = '1';
        document.body.style.overflow = 'auto';
      }, 500);
    }

    // Donation button event listeners
    document.addEventListener('DOMContentLoaded', function() {
      const donationButton = document.getElementById('donationButton');
      const donationCloseBtn = document.getElementById('donationCloseBtn');

      if (donationButton) {
        donationButton.addEventListener('click', function(e) {
          e.preventDefault();
          showDonationAnimation();
        });
      }

      if (donationCloseBtn) {
        donationCloseBtn.addEventListener('click', function() {
          hideDonationAnimation();
        });
      }
    });

    // Login Animation Functions
    function showLoginAnimation() {
      console.log('Showing login animation');
      // Hide any other overlays first
      hideAllOverlays();

      const loginScreen = document.getElementById('loginScreen');
      console.log('Login screen element:', loginScreen);

      if (loginScreen) {
        loginScreen.style.display = 'flex';
        loginScreen.style.visibility = 'visible';
        loginScreen.style.opacity = '1';
        loginScreen.style.zIndex = '10005';
        document.body.style.overflow = 'hidden';
        console.log('Login screen should now be visible');
      } else {
        console.error('Login screen element not found!');
      }
    }

    function hideLoginAnimation() {
      const loginScreen = document.getElementById('loginScreen');
      loginScreen.style.opacity = '0';

      setTimeout(() => {
        loginScreen.style.display = 'none';
        loginScreen.style.opacity = '1';
        document.body.style.overflow = 'auto';
      }, 500);
    }

    // Forgot Password Animation Functions
    function showForgotPasswordAnimation() {
      console.log('Showing forgot password animation');
      // Hide login screen first
      hideLoginAnimation();

      setTimeout(() => {
        const forgotPasswordScreen = document.getElementById('forgotPasswordScreen');
        console.log('Forgot password screen element:', forgotPasswordScreen);

        if (forgotPasswordScreen) {
          forgotPasswordScreen.style.display = 'flex';
          forgotPasswordScreen.style.visibility = 'visible';
          forgotPasswordScreen.style.opacity = '1';
          forgotPasswordScreen.style.zIndex = '10005';
          document.body.style.overflow = 'hidden';
          console.log('Forgot password screen should now be visible');
        } else {
          console.error('Forgot password screen element not found!');
        }
      }, 300);
    }

    function hideForgotPasswordAnimation() {
      const forgotPasswordScreen = document.getElementById('forgotPasswordScreen');
      forgotPasswordScreen.style.opacity = '0';

      setTimeout(() => {
        forgotPasswordScreen.style.display = 'none';
        forgotPasswordScreen.style.opacity = '1';
        document.body.style.overflow = 'auto';
      }, 500);
    }

    // Password visibility toggle functionality
    function togglePasswordVisibility(inputId, checkbox) {
      const passwordInput = document.getElementById(inputId);

      if (checkbox.checked) {
        passwordInput.type = 'text';
      } else {
        passwordInput.type = 'password';
      }
    }

    // Login/Registration functionality
    let isRegistrationMode = false;

    function toggleRegistrationMode() {
      const registerFields = document.querySelectorAll('.register-only');
      const submitBtn = document.getElementById('submitBtn');
      const toggleBtn = document.getElementById('toggleBtn');
      const loginTitle = document.querySelector('.login-title');
      const loginSubtitle = document.querySelector('.login-subtitle');
      const dividerText = document.getElementById('dividerText');
      const usernameInput = document.getElementById('usernameInput');
      const usernameLabel = usernameInput.previousElementSibling;

      isRegistrationMode = !isRegistrationMode;

      if (isRegistrationMode) {
        // Switch to registration mode
        registerFields.forEach(field => field.style.display = 'flex');
        submitBtn.innerHTML = '⭐ Create Account';
        toggleBtn.innerHTML = '🚀 Back to Login';
        loginTitle.textContent = 'JOIN THE VERSE';
        loginSubtitle.textContent = 'Create your SC Kill Tracker account';
        dividerText.textContent = 'or';
        usernameLabel.textContent = 'Username';
        usernameInput.placeholder = 'Choose a username';
        usernameInput.type = 'text';

        // Make registration fields required
        document.getElementById('emailInput').required = true;
        document.getElementById('confirmPasswordInput').required = true;
      } else {
        // Switch to login mode
        registerFields.forEach(field => field.style.display = 'none');
        submitBtn.innerHTML = '🚀 Login';
        toggleBtn.innerHTML = '⭐ Create New Account';
        loginTitle.textContent = 'ACCESS THE VERSE';
        loginSubtitle.textContent = 'Login to your SC Kill Tracker account';
        dividerText.textContent = 'or';
        usernameLabel.textContent = 'Username or Email';
        usernameInput.placeholder = 'Enter your username or email';

        // Remove required from registration fields
        document.getElementById('emailInput').required = false;
        document.getElementById('confirmPasswordInput').required = false;

        // Clear registration fields
        document.getElementById('emailInput').value = '';
        document.getElementById('orgInput').value = '';
        document.getElementById('confirmPasswordInput').value = '';
      }
    }

    // Login button event listeners
    document.addEventListener('DOMContentLoaded', function() {
      const loginButton = document.getElementById('loginButton');
      const loginCloseBtn = document.getElementById('loginCloseBtn');
      const loginForm = document.getElementById('loginForm');
      const toggleBtn = document.getElementById('toggleBtn');
      const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');
      const forgotPasswordCloseBtn = document.getElementById('forgotPasswordCloseBtn');
      const forgotPasswordForm = document.getElementById('forgotPasswordForm');
      const backToLoginBtn = document.getElementById('backToLoginBtn');

      if (loginButton) {
        console.log('Login button found, adding event listener');
        loginButton.addEventListener('click', function(e) {
          console.log('Login button clicked');
          e.preventDefault();
          showLoginAnimation();
        });
      } else {
        console.error('Login button not found!');
      }

      if (loginCloseBtn) {
        loginCloseBtn.addEventListener('click', function() {
          hideLoginAnimation();
          // Reset to login mode when closing
          if (isRegistrationMode) {
            toggleRegistrationMode();
          }
        });
      }

      if (loginForm) {
        loginForm.addEventListener('submit', function(e) {
          e.preventDefault();

          const username = document.getElementById('usernameInput').value;
          const password = document.getElementById('passwordInput').value;

          if (isRegistrationMode) {
            // Handle registration
            const email = document.getElementById('emailInput').value;
            const confirmPassword = document.getElementById('confirmPasswordInput').value;
            const org = document.getElementById('orgInput').value;

            if (!username || !email || !password || !confirmPassword) {
              showNotification({
                title: 'Form Validation',
                message: 'Please fill in all required fields to continue.',
                type: 'warning',
                duration: 4000
              });
              return;
            }

            if (password !== confirmPassword) {
              showNotification({
                title: 'Password Mismatch',
                message: 'The passwords you entered do not match. Please check and try again.',
                type: 'error',
                duration: 5000
              });
              return;
            }

            if (password.length < 6) {
              showNotification({
                title: 'Password Too Short',
                message: 'Password must be at least 6 characters long for security.',
                type: 'warning',
                duration: 4000
              });
              return;
            }

            // Mock registration success
            showNotification({
              title: 'Account Created Successfully!',
              message: 'Your SC Kill Tracker account has been created and is ready to use.',
              details: `Username: ${username}\nSCKillTrac ID: ${username}@SCKillTrac\nOrganization: ${org || 'None'}\n\nYou can now login with your credentials.\n\n⚠️ This is a mock demonstration.`,
              type: 'success',
              duration: 8000
            });

            // Switch back to login mode
            toggleRegistrationMode();

            // Pre-fill username
            document.getElementById('usernameInput').value = username;
            document.getElementById('passwordInput').value = '';

          } else {
            // Handle login - require specific credentials
            if (!username || !password) {
              alert('Please enter both username and password');
              return;
            }

            // Check for correct demo credentials
            if (username === 'HarleyTG' && password === 'Password') {
              // Simulate successful login
              hideLoginAnimation();

              // Redirect to profile page with login success info
              setTimeout(() => {
                const loginType = isRegistrationMode ? 'register' : 'login';
                window.location.href = `profile.html?welcome=${loginType}&user=${encodeURIComponent(username)}`;
              }, 500);
            } else {
              showNotification({
                title: 'Invalid Credentials',
                message: 'The username or password you entered is incorrect.',
                details: 'Demo Login Credentials:\nUsername: HarleyTG\nPassword: Password\n\n⚠️ This is a mock service for demonstration purposes.',
                type: 'error',
                duration: 8000
              });
            }
          }
        });
      }

      if (toggleBtn) {
        toggleBtn.addEventListener('click', function() {
          toggleRegistrationMode();
        });
      }

      // Forgot Password event listeners
      if (forgotPasswordBtn) {
        forgotPasswordBtn.addEventListener('click', function(e) {
          e.preventDefault();
          showForgotPasswordAnimation();
        });
      }

      if (forgotPasswordCloseBtn) {
        forgotPasswordCloseBtn.addEventListener('click', function() {
          hideForgotPasswordAnimation();
        });
      }

      if (backToLoginBtn) {
        backToLoginBtn.addEventListener('click', function() {
          hideForgotPasswordAnimation();
          setTimeout(() => {
            showLoginAnimation();
          }, 300);
        });
      }

      if (forgotPasswordForm) {
        forgotPasswordForm.addEventListener('submit', function(e) {
          e.preventDefault();

          const email = document.getElementById('resetEmailInput').value;

          if (!email) {
            showNotification({
              title: 'Email Required',
              message: 'Please enter your email address to receive password reset instructions.',
              type: 'warning',
              duration: 4000
            });
            return;
          }

          // Mock password reset
          showNotification({
            title: 'Password Reset Request Sent',
            message: 'A password reset link has been sent to your email address.',
            details: `Email: ${email}\n\nPlease check your email and follow the instructions to reset your password.\n\n⚠️ This is a mock demonstration - no actual email will be sent.`,
            type: 'success',
            duration: 8000
          });

          // Clear form and return to login
          document.getElementById('resetEmailInput').value = '';
          hideForgotPasswordAnimation();
          setTimeout(() => {
            showLoginAnimation();
          }, 300);
        });
      }

      // Update escape key handler to include login and forgot password screens
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          const loginScreen = document.getElementById('loginScreen');
          const forgotPasswordScreen = document.getElementById('forgotPasswordScreen');

          if (forgotPasswordScreen.style.display === 'flex') {
            hideForgotPasswordAnimation();
          } else if (loginScreen.style.display === 'flex') {
            hideLoginAnimation();
            // Reset to login mode when closing with escape
            if (isRegistrationMode) {
              toggleRegistrationMode();
            }
          }
        }
      });
    });


  </script>

  <!-- Custom Notification Container - Must be at end of body -->
  <div id="notificationContainer" class="notification-container"></div>
</body>
</html>